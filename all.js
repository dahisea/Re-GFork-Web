var Gi=Object.defineProperty;var hr=r=>{throw TypeError(r)};var Xi=(r,e,t)=>e in r?Gi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>Xi(r,typeof e!="symbol"?e+"":e,t),Vt=(r,e,t)=>e.has(r)||hr("Cannot "+t);var L=(r,e,t)=>(Vt(r,e,"read from private field"),t?t.call(r):e.get(r)),x=(r,e,t)=>e.has(r)?hr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),O=(r,e,t,i)=>(Vt(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),R=(r,e,t)=>(Vt(r,e,"access private method"),t);/*!
Turbo 8.0.12
Copyright Â© 2024 37signals LLC
 */(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(i){i?(e(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function e(i,s){i instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||t(TypeError,"The specified element is not a submit button"),i.form==s||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(i,s,n){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",n)}})(HTMLFormElement.prototype);const xr=new WeakMap;function Zi(r){const e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function Qi(r){const e=Zi(r.target);e&&e.form&&xr.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))r=e;else return}addEventListener("click",Qi,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return xr.get(this.target)}})})();const Ee={eager:"eager",lazy:"lazy"},Ct=class Ct extends HTMLElement{constructor(){super();v(this,"loaded",Promise.resolve());this.delegate=new Ct.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return es(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,i;return(i=(t=this.ownerDocument)==null?void 0:t.documentElement)==null?void 0:i.hasAttribute("data-turbo-preview")}};v(Ct,"delegateConstructor");let Q=Ct;function es(r){switch(r.toLowerCase()){case"lazy":return Ee.lazy;default:return Ee.eager}}const ts={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Ze(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{const e=document.createElement("script"),t=Nr();return t&&(e.nonce=t),e.textContent=r.textContent,e.async=!1,rs(e,r),e}}function rs(r,e){for(const{name:t,value:i}of e.attributes)r.setAttribute(t,i)}function is(r){const e=document.createElement("template");return e.innerHTML=r,e.content}function H(r,{target:e,cancelable:t,detail:i}={}){const s=new CustomEvent(r,{cancelable:t,bubbles:!0,composed:!0,detail:i});return e&&e.isConnected?e.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function ur(r){r.preventDefault(),r.stopImmediatePropagation()}function Xe(){return document.visibilityState==="hidden"?Dr():_r()}function _r(){return new Promise(r=>requestAnimationFrame(()=>r()))}function Dr(){return new Promise(r=>setTimeout(()=>r(),0))}function ss(){return Promise.resolve()}function Or(r=""){return new DOMParser().parseFromString(r,"text/html")}function Hr(r,...e){const t=ns(r,e).replace(/^\n/,"").split(`
`),i=t[0].match(/^\s+/),s=i?i[0].length:0;return t.map(n=>n.slice(s)).join(`
`)}function ns(r,e){return r.reduce((t,i,s)=>{const n=e[s]==null?"":e[s];return t+i+n},"")}function be(){return Array.from({length:36}).map((r,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function wt(r,...e){for(const t of e.map(i=>i==null?void 0:i.getAttribute(r)))if(typeof t=="string")return t;return null}function os(r,...e){return e.some(t=>t&&t.hasAttribute(r))}function St(...r){for(const e of r)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Et(...r){for(const e of r)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function as(r,e=2e3){return new Promise(t=>{const i=()=>{r.removeEventListener("error",i),r.removeEventListener("load",i),t()};r.addEventListener("load",i,{once:!0}),r.addEventListener("error",i,{once:!0}),setTimeout(t,e)})}function Br(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function ls(r){return r=="advance"||r=="replace"||r=="restore"}function Le(...r){const e=wt("data-turbo-action",...r);return ls(e)?e:null}function Qt(r){return document.querySelector(`meta[name="${r}"]`)}function At(r){const e=Qt(r);return e&&e.content}function Nr(){const r=Qt("csp-nonce");if(r){const{nonce:e,content:t}=r;return e==""?t:e}}function cs(r,e){let t=Qt(r);return t||(t=document.createElement("meta"),t.setAttribute("name",r),document.head.appendChild(t)),t.setAttribute("content",e),t}function xe(r,e){var t;if(r instanceof Element)return r.closest(e)||xe(r.assignedSlot||((t=r.getRootNode())==null?void 0:t.host),e)}function er(r){return!!r&&r.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof r.focus=="function"}function Vr(r){return Array.from(r.querySelectorAll("[autofocus]")).find(er)}async function hs(r,e){const t=e();r(),await _r();const i=e();return[t,i]}function Wr(r){if(r==="_blank")return!1;if(r){for(const e of document.getElementsByName(r))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Ur(r){return xe(r,"a[href]:not([target^=_]):not([download])")}function jr(r){return z(r.getAttribute("href")||"")}function us(r,e){let t=null;return(...i)=>{const s=()=>r.apply(this,i);clearTimeout(t),t=setTimeout(s,e)}}const ds={"aria-disabled":{beforeSubmit:r=>{r.setAttribute("aria-disabled","true"),r.addEventListener("click",ur)},afterSubmit:r=>{r.removeAttribute("aria-disabled"),r.removeEventListener("click",ur)}},disabled:{beforeSubmit:r=>r.disabled=!0,afterSubmit:r=>r.disabled=!1}};var Qe;class fs{constructor(e){x(this,Qe,null);Object.assign(this,e)}get submitter(){return L(this,Qe)}set submitter(e){O(this,Qe,ds[e]||e)}}Qe=new WeakMap;const ms=new fs({mode:"on",submitter:"disabled"}),j={drive:ts,forms:ms};function z(r){return new URL(r.toString(),document.baseURI)}function Re(r){let e;if(r.hash)return r.hash.slice(1);if(e=r.href.match(/#(.*)$/))return e[1]}function tr(r,e){const t=(e==null?void 0:e.getAttribute("formaction"))||r.getAttribute("action")||r.action;return z(t)}function ps(r){return(ys(r).match(/\.[^.]*$/)||[])[0]||""}function gs(r,e){const t=ws(e);return r.href===z(t).href||r.href.startsWith(t)}function de(r,e){return gs(r,e)&&!j.drive.unvisitableExtensions.has(ps(r))}function Yt(r){const e=Re(r);return e!=null?r.href.slice(0,-(e.length+1)):r.href}function dt(r){return Yt(r)}function bs(r,e){return z(r).href==z(e).href}function vs(r){return r.pathname.split("/").slice(1)}function ys(r){return vs(r).slice(-1)[0]}function ws(r){return Ss(r.origin+r.pathname)}function Ss(r){return r.endsWith("/")?r:r+"/"}class kt{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return z(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class Es extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const i=this.values().next().value;this.delete(i)}super.add(e)}}const $r=new Es(20),As=window.fetch;function rr(r,e={}){const t=new Headers(e.headers||{}),i=be();return $r.add(i),t.append("X-Turbo-Request-Id",i),As(r,{...e,headers:t})}function Ft(r){switch(r.toLowerCase()){case"get":return K.get;case"post":return K.post;case"put":return K.put;case"patch":return K.patch;case"delete":return K.delete}}const K={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function zr(r){switch(r.toLowerCase()){case fe.multipart:return fe.multipart;case fe.plain:return fe.plain;default:return fe.urlEncoded}}const fe={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};var et,Ve,Jr,Yr;class je{constructor(e,t,i,s=new URLSearchParams,n=null,l=fe.urlEncoded){x(this,Ve);v(this,"abortController",new AbortController);x(this,et,e=>{});var y;const[u,p]=dr(z(i),t,s,l);this.delegate=e,this.url=u,this.target=n,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:p,signal:this.abortSignal,referrer:(y=this.delegate.referrer)==null?void 0:y.href},this.enctype=l}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=Ft(e)||K.get;this.url.search="";const[s,n]=dr(this.url,i,t,this.enctype);this.url=s,this.fetchOptions.body=n,this.fetchOptions.method=i.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await R(this,Ve,Jr).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=rr(this.url.href,e);const i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw R(this,Ve,Yr).call(this,i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new kt(e);return H("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return It(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}}et=new WeakMap,Ve=new WeakSet,Jr=async function(e){const t=new Promise(s=>O(this,et,s)),i=H("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:L(this,et)},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await t,i},Yr=function(e){return!H("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function It(r){return Ft(r)==K.get}function dr(r,e,t,i){const s=Array.from(t).length>0?new URLSearchParams(Kr(t)):r.searchParams;return It(e)?[Ts(r,s),null]:i==fe.urlEncoded?[r,s]:[r,t]}function Kr(r){const e=[];for(const[t,i]of r)i instanceof File||e.push([t,i]);return e}function Ts(r,e){const t=new URLSearchParams(Kr(e));return r.search=t.toString(),r}class Ls{constructor(e,t){v(this,"started",!1);v(this,"intersect",e=>{const t=e.slice(-1)[0];t!=null&&t.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class Ce{static wrap(e){return typeof e=="string"?new this(is(e)):e}constructor(e){this.fragment=Rs(e)}}v(Ce,"contentType","text/vnd.turbo-stream.html");function Rs(r){for(const e of r.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const i of t.templateElement.content.querySelectorAll("script"))i.replaceWith(Ze(i));e.replaceWith(t)}return r}const Cs=100;var Ae,ce;class Ms{constructor(){x(this,Ae,null);x(this,ce,null)}get(e){if(L(this,ce)&&L(this,ce).url===e&&L(this,ce).expire>Date.now())return L(this,ce).request}setLater(e,t,i){this.clear(),O(this,Ae,setTimeout(()=>{t.perform(),this.set(e,t,i),O(this,Ae,null)},Cs))}set(e,t,i){O(this,ce,{url:e,request:t,expire:new Date(new Date().getTime()+i)})}clear(){L(this,Ae)&&clearTimeout(L(this,Ae)),O(this,ce,null)}}Ae=new WeakMap,ce=new WeakMap;const Ps=10*1e3,qe=new Ms,Pe={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class qt{constructor(e,t,i,s=!1){v(this,"state",Pe.initialized);const n=_s(t,i),l=xs(qs(t,i),n),u=ks(t,i),p=Ds(t,i);this.delegate=e,this.formElement=t,this.submitter=i,this.fetchRequest=new je(this,n,l,u,t,p),this.mustRedirect=s}static confirmMethod(e){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=z(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=Pe,i=wt("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await(typeof j.forms.confirm=="function"?j.forms.confirm:qt.confirmMethod)(i,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=Pe;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=Fs(At("csrf-param"))||At("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Ce.contentType)}requestStarted(e){this.state=Pe.waiting,this.submitter&&j.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),St(this.formElement),H("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){qe.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(qe.clear(),this.requestMustRedirect(e)&&Is(t)){const i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=Pe.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=Pe.stopped,this.submitter&&j.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Et(this.formElement),H("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||os("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)==null?void 0:e.getAttribute("data-turbo-submits-with")}}function ks(r,e){const t=new FormData(r),i=e==null?void 0:e.getAttribute("name"),s=e==null?void 0:e.getAttribute("value");return i&&t.append(i,s||""),t}function Fs(r){if(r!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(r));if(t){const i=t.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function Is(r){return r.statusCode==200&&!r.redirected}function qs(r,e){const t=typeof r.action=="string"?r.action:null;return e!=null&&e.hasAttribute("formaction")?e.getAttribute("formaction")||"":r.getAttribute("action")||t||""}function xs(r,e){const t=z(r);return It(e)&&(t.search=""),t}function _s(r,e){const t=(e==null?void 0:e.getAttribute("formmethod"))||r.getAttribute("method")||"";return Ft(t.toLowerCase())||K.get}function Ds(r,e){return zr((e==null?void 0:e.getAttribute("formenctype"))||r.enctype)}class xt{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return Vr(this.element)}get permanentElements(){return Xr(this.element)}getPermanentElementById(e){return Gr(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const i of this.permanentElements){const{id:s}=i,n=e.getPermanentElementById(s);n&&(t[s]=[i,n])}return t}}function Gr(r,e){return r.querySelector(`#${e}[data-turbo-permanent]`)}function Xr(r){return r.querySelectorAll("[id][data-turbo-permanent]")}class ir{constructor(e,t){v(this,"started",!1);v(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});v(this,"submitBubbled",e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;t&&Os(t,i)&&Hs(t,i)&&this.delegate.willSubmitForm(t,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,i))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function Os(r,e){return((e==null?void 0:e.getAttribute("formmethod"))||r.getAttribute("method"))!="dialog"}function Hs(r,e){const t=(e==null?void 0:e.getAttribute("formtarget"))||r.getAttribute("target");return Wr(t)}var tt,rt;class Zr{constructor(e,t){x(this,tt,e=>{});x(this,rt,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Re(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:i,willRender:s,newSnapshot:n}=e,l=s;if(i)try{this.renderPromise=new Promise(M=>O(this,tt,M)),this.renderer=e,await this.prepareToRenderSnapshot(e);const u=new Promise(M=>O(this,rt,M)),p={resume:L(this,rt),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(n,p)||await u,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,L(this,tt).call(this,void 0),delete this.renderPromise}else l&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}tt=new WeakMap,rt=new WeakMap;class Bs extends Zr{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new xt(this.element)}}class Qr{constructor(e,t){v(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});v(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});v(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){var s;const t=e.composed?(s=e.target)==null?void 0:s.parentElement:e.target,i=Ur(t)||t;return i instanceof Element&&i.closest("turbo-frame, html")==this.element}}class ei{constructor(e,t){v(this,"started",!1);v(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});v(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,i=Ur(t);if(i&&Wr(i.target)){const s=jr(i);this.delegate.willFollowLinkToLocation(i,s,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,s))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class ti{constructor(e,t){this.delegate=e,this.linkInterceptor=new ei(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,i){return this.delegate.willSubmitFormLinkToLocation(e,t,i)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const i=document.createElement("form"),s="hidden";for(const[P,k]of t.searchParams)i.append(Object.assign(document.createElement("input"),{type:s,name:P,value:k}));const n=Object.assign(t,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",n.href),i.setAttribute("hidden","");const l=e.getAttribute("data-turbo-method");l&&i.setAttribute("method",l);const u=e.getAttribute("data-turbo-frame");u&&i.setAttribute("data-turbo-frame",u);const p=Le(e);p&&i.setAttribute("data-turbo-action",p);const y=e.getAttribute("data-turbo-confirm");y&&i.setAttribute("data-turbo-confirm",y),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}}class ri{static async preservingPermanentElements(e,t,i){const s=new this(e,t);s.enter(),await i(),s.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,i]=this.permanentElementMap[e];this.delegate.enteringBardo(t,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=Ns(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function Ns(r){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",r.id),e}var he;class sr{constructor(e,t,i,s=!0){x(this,he,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=s,this.renderElement=this.constructor.renderElement,this.promise=new Promise((n,l)=>this.resolvingFunctions={resolve:n,reject:l})}static renderElement(e,t){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await ri.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){L(this,he)||e.contains(this.currentSnapshot.activeElement)&&O(this,he,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(L(this,he))&&L(this,he)instanceof HTMLElement&&(L(this,he).focus(),O(this,he,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}he=new WeakMap;class _t extends sr{static renderElement(e,t){var l;const i=document.createRange();i.selectNodeContents(e),i.deleteContents();const s=t,n=(l=s.ownerDocument)==null?void 0:l.createRange();n&&(n.selectNodeContents(s),e.appendChild(n.extractContents()))}constructor(e,t,i,s,n,l=!0){super(t,i,s,n,l),this.delegate=e}get shouldRender(){return!0}async render(){await Xe(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Xe(),this.focusFirstAutofocusableElement(),await Xe(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=Vs(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=Ws(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:i}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=Ze(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function Vs(r,e){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:e}function Ws(r,e){return r=="auto"||r=="smooth"?r:e}var Us=function(){let r=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:k,afterNodeAdded:k,beforeNodeMorphed:k,afterNodeMorphed:k,beforeNodeRemoved:k,afterNodeRemoved:k,beforeAttributeUpdated:k},head:{style:"merge",shouldPreserve:function(o){return o.getAttribute("im-preserve")==="true"},shouldReAppend:function(o){return o.getAttribute("im-re-append")==="true"},shouldRemove:k,afterHeadMorphed:k}};function t(o,a,h={}){o instanceof Document&&(o=o.documentElement),typeof a=="string"&&(a=ie(a));let w=Me(a),S=A(o,w,h);return i(o,w,S)}function i(o,a,h){if(h.head.block){let w=o.querySelector("head"),S=a.querySelector("head");if(w&&S){let E=P(S,w,h);Promise.all(E).then(function(){i(o,a,Object.assign(h,{head:{block:!1,ignore:!0}}))});return}}if(h.morphStyle==="innerHTML")return l(a,o,h),o.children;if(h.morphStyle==="outerHTML"||h.morphStyle==null){let w=se(a,o,h),S=w==null?void 0:w.previousSibling,E=w==null?void 0:w.nextSibling,q=n(o,w,h);return w?B(S,q,E):[]}else throw"Do not understand how to morph style "+h.morphStyle}function s(o,a){return a.ignoreActiveValue&&o===document.activeElement&&o!==document.body}function n(o,a,h){if(!(h.ignoreActive&&o===document.activeElement))return a==null?h.callbacks.beforeNodeRemoved(o)===!1?o:(o.remove(),h.callbacks.afterNodeRemoved(o),null):_(o,a)?(h.callbacks.beforeNodeMorphed(o,a)===!1||(o instanceof HTMLHeadElement&&h.head.ignore||(o instanceof HTMLHeadElement&&h.head.style!=="morph"?P(a,o,h):(p(a,o,h),s(o,h)||l(a,o,h))),h.callbacks.afterNodeMorphed(o,a)),o):h.callbacks.beforeNodeRemoved(o)===!1||h.callbacks.beforeNodeAdded(a)===!1?o:(o.parentElement.replaceChild(a,o),h.callbacks.afterNodeAdded(a),h.callbacks.afterNodeRemoved(o),a)}function l(o,a,h){let w=o.firstChild,S=a.firstChild,E;for(;w;){if(E=w,w=E.nextSibling,S==null){if(h.callbacks.beforeNodeAdded(E)===!1)return;a.appendChild(E),h.callbacks.afterNodeAdded(E),d(h,E);continue}if(I(E,S,h)){n(S,E,h),S=S.nextSibling,d(h,E);continue}let q=J(o,a,E,S,h);if(q){S=D(S,q,h),n(q,E,h),d(h,E);continue}let W=re(o,a,E,S,h);if(W){S=D(S,W,h),n(W,E,h),d(h,E);continue}if(h.callbacks.beforeNodeAdded(E)===!1)return;a.insertBefore(E,S),h.callbacks.afterNodeAdded(E),d(h,E)}for(;S!==null;){let q=S;S=S.nextSibling,c(q,h)}}function u(o,a,h,w){return o==="value"&&w.ignoreActiveValue&&a===document.activeElement?!0:w.callbacks.beforeAttributeUpdated(o,a,h)===!1}function p(o,a,h){let w=o.nodeType;if(w===1){const S=o.attributes,E=a.attributes;for(const q of S)u(q.name,a,"update",h)||a.getAttribute(q.name)!==q.value&&a.setAttribute(q.name,q.value);for(let q=E.length-1;0<=q;q--){const W=E[q];u(W.name,a,"remove",h)||o.hasAttribute(W.name)||a.removeAttribute(W.name)}}(w===8||w===3)&&a.nodeValue!==o.nodeValue&&(a.nodeValue=o.nodeValue),s(a,h)||M(o,a,h)}function y(o,a,h,w){if(o[h]!==a[h]){let S=u(h,a,"update",w);S||(a[h]=o[h]),o[h]?S||a.setAttribute(h,o[h]):u(h,a,"remove",w)||a.removeAttribute(h)}}function M(o,a,h){if(o instanceof HTMLInputElement&&a instanceof HTMLInputElement&&o.type!=="file"){let w=o.value,S=a.value;y(o,a,"checked",h),y(o,a,"disabled",h),o.hasAttribute("value")?w!==S&&(u("value",a,"update",h)||(a.setAttribute("value",w),a.value=w)):u("value",a,"remove",h)||(a.value="",a.removeAttribute("value"))}else if(o instanceof HTMLOptionElement)y(o,a,"selected",h);else if(o instanceof HTMLTextAreaElement&&a instanceof HTMLTextAreaElement){let w=o.value,S=a.value;if(u("value",a,"update",h))return;w!==S&&(a.value=w),a.firstChild&&a.firstChild.nodeValue!==w&&(a.firstChild.nodeValue=w)}}function P(o,a,h){let w=[],S=[],E=[],q=[],W=h.head.style,ve=new Map;for(const U of o.children)ve.set(U.outerHTML,U);for(const U of a.children){let oe=ve.has(U.outerHTML),$e=h.head.shouldReAppend(U),Nt=h.head.shouldPreserve(U);oe||Nt?$e?S.push(U):(ve.delete(U.outerHTML),E.push(U)):W==="append"?$e&&(S.push(U),q.push(U)):h.head.shouldRemove(U)!==!1&&S.push(U)}q.push(...ve.values());let cr=[];for(const U of q){let oe=document.createRange().createContextualFragment(U.outerHTML).firstChild;if(h.callbacks.beforeNodeAdded(oe)!==!1){if(oe.href||oe.src){let $e=null,Nt=new Promise(function(Ki){$e=Ki});oe.addEventListener("load",function(){$e()}),cr.push(Nt)}a.appendChild(oe),h.callbacks.afterNodeAdded(oe),w.push(oe)}}for(const U of S)h.callbacks.beforeNodeRemoved(U)!==!1&&(a.removeChild(U),h.callbacks.afterNodeRemoved(U));return h.head.afterHeadMorphed(a,{added:w,kept:E,removed:S}),cr}function k(){}function F(o){let a={};return Object.assign(a,e),Object.assign(a,o),a.callbacks={},Object.assign(a.callbacks,e.callbacks),Object.assign(a.callbacks,o.callbacks),a.head={},Object.assign(a.head,e.head),Object.assign(a.head,o.head),a}function A(o,a,h){return h=F(h),{target:o,newContent:a,config:h,morphStyle:h.morphStyle,ignoreActive:h.ignoreActive,ignoreActiveValue:h.ignoreActiveValue,idMap:T(o,a),deadIds:new Set,callbacks:h.callbacks,head:h.head}}function I(o,a,h){return o==null||a==null?!1:o.nodeType===a.nodeType&&o.tagName===a.tagName?o.id!==""&&o.id===a.id?!0:b(h,o,a)>0:!1}function _(o,a){return o==null||a==null?!1:o.nodeType===a.nodeType&&o.tagName===a.tagName}function D(o,a,h){for(;o!==a;){let w=o;o=o.nextSibling,c(w,h)}return d(h,a),a.nextSibling}function J(o,a,h,w,S){let E=b(S,h,a),q=null;if(E>0){let W=w,ve=0;for(;W!=null;){if(I(h,W,S))return W;if(ve+=b(S,W,o),ve>E)return null;W=W.nextSibling}}return q}function re(o,a,h,w,S){let E=w,q=h.nextSibling,W=0;for(;E!=null;){if(b(S,E,o)>0)return null;if(_(h,E))return E;if(_(q,E)&&(W++,q=q.nextSibling,W>=2))return null;E=E.nextSibling}return E}function ie(o){let a=new DOMParser,h=o.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(h.match(/<\/html>/)||h.match(/<\/head>/)||h.match(/<\/body>/)){let w=a.parseFromString(o,"text/html");if(h.match(/<\/html>/))return w.generatedByIdiomorph=!0,w;{let S=w.firstChild;return S?(S.generatedByIdiomorph=!0,S):null}}else{let S=a.parseFromString("<body><template>"+o+"</template></body>","text/html").body.querySelector("template").content;return S.generatedByIdiomorph=!0,S}}function Me(o){if(o==null)return document.createElement("div");if(o.generatedByIdiomorph)return o;if(o instanceof Node){const a=document.createElement("div");return a.append(o),a}else{const a=document.createElement("div");for(const h of[...o])a.append(h);return a}}function B(o,a,h){let w=[],S=[];for(;o!=null;)w.push(o),o=o.previousSibling;for(;w.length>0;){let E=w.pop();S.push(E),a.parentElement.insertBefore(E,a)}for(S.push(a);h!=null;)w.push(h),S.push(h),h=h.nextSibling;for(;w.length>0;)a.parentElement.insertBefore(w.pop(),a.nextSibling);return S}function se(o,a,h){let w;w=o.firstChild;let S=w,E=0;for(;w;){let q=ne(w,a,h);q>E&&(S=w,E=q),w=w.nextSibling}return S}function ne(o,a,h){return _(o,a)?.5+b(h,o,a):0}function c(o,a){d(a,o),a.callbacks.beforeNodeRemoved(o)!==!1&&(o.remove(),a.callbacks.afterNodeRemoved(o))}function f(o,a){return!o.deadIds.has(a)}function g(o,a,h){return(o.idMap.get(h)||r).has(a)}function d(o,a){let h=o.idMap.get(a)||r;for(const w of h)o.deadIds.add(w)}function b(o,a,h){let w=o.idMap.get(a)||r,S=0;for(const E of w)f(o,E)&&g(o,E,h)&&++S;return S}function m(o,a){let h=o.parentElement,w=o.querySelectorAll("[id]");for(const S of w){let E=S;for(;E!==h&&E!=null;){let q=a.get(E);q==null&&(q=new Set,a.set(E,q)),q.add(S.id),E=E.parentElement}}}function T(o,a){let h=new Map;return m(o,h),m(a,h),h}return{morph:t,defaults:e}}();function nr(r,e,{callbacks:t,...i}={}){Us.morph(r,e,{...i,callbacks:new js(t)})}function ii(r,e){nr(r,e.children,{morphStyle:"innerHTML"})}var it;class js{constructor({beforeNodeMorphed:e}={}){x(this,it);v(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));v(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&L(this,it).call(this,e,t)?!H("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});v(this,"beforeAttributeUpdated",(e,t,i)=>!H("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:i}}).defaultPrevented);v(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));v(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&H("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});O(this,it,e||(()=>!0))}}it=new WeakMap;class $s extends _t{static renderElement(e,t){H("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),ii(e,t)}async preservingPermanentElements(e){return await e()}}const le=class le{constructor(){v(this,"hiding",!1);v(this,"value",0);v(this,"visible",!1);v(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return Hr`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${le.animationDuration}ms ease-out,
          opacity ${le.animationDuration/2}ms ${le.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,le.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,le.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=le.defaultCSS;const t=Nr();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}};v(le,"animationDuration",300);let Kt=le;class zs extends xt{constructor(){super(...arguments);v(this,"detailsByOuterHTML",this.children.filter(t=>!Gs(t)).map(t=>Qs(t)).reduce((t,i)=>{const{outerHTML:s}=i,n=s in t?t[s]:{type:Js(i),tracked:Ys(i),elements:[]};return{...t,[s]:{...n,elements:[...n.elements,i]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,i){return Object.keys(this.detailsByOuterHTML).filter(s=>!(s in i.detailsByOuterHTML)).map(s=>this.detailsByOuterHTML[s]).filter(({type:s})=>s==t).map(({elements:[s]})=>s)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,i)=>{const{type:s,tracked:n,elements:l}=this.detailsByOuterHTML[i];return s==null&&!n?[...t,...l]:l.length>1?[...t,...l.slice(1)]:t},[])}getMetaValue(t){const i=this.findMetaElementByName(t);return i?i.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((i,s)=>{const{elements:[n]}=this.detailsByOuterHTML[s];return Zs(n,t)?n:i},void 0|void 0)}}function Js(r){if(Ks(r))return"script";if(Xs(r))return"stylesheet"}function Ys(r){return r.getAttribute("data-turbo-track")=="reload"}function Ks(r){return r.localName=="script"}function Gs(r){return r.localName=="noscript"}function Xs(r){const e=r.localName;return e=="style"||e=="link"&&r.getAttribute("rel")=="stylesheet"}function Zs(r,e){return r.localName=="meta"&&r.getAttribute("name")==e}function Qs(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}class X extends xt{static fromHTMLString(e=""){return this.fromDocument(Or(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:i}){return new this(e,t,new zs(i))}constructor(e,t,i){super(t),this.documentElement=e,this.headSnapshot=i}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(const[s,n]of t.entries()){const l=i[s];for(const u of l.selectedOptions)u.selected=!1;for(const u of n.selectedOptions)l.options[u.index].selected=!0}for(const s of e.querySelectorAll('input[type="password"]'))s.value="";return new X(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return z(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var st,me;class en{constructor(){x(this,st,!1);x(this,me,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!L(this,st)?(O(this,st,!0),O(this,me,L(this,me).then(async()=>{await document.startViewTransition(t).finished}))):O(this,me,L(this,me).then(t)),L(this,me)}get viewTransitionsAvailable(){return document.startViewTransition}}st=new WeakMap,me=new WeakMap;const tn={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},ft={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},ae={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},_e={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},rn={advance:"forward",restore:"back",replace:"none"};class sn{constructor(e,t,i,s={}){v(this,"identifier",be());v(this,"timingMetrics",{});v(this,"followedRedirect",!1);v(this,"historyChanged",!1);v(this,"scrolled",!1);v(this,"shouldCacheSnapshot",!0);v(this,"acceptsStreamResponse",!1);v(this,"snapshotCached",!1);v(this,"state",ae.initialized);v(this,"viewTransitioner",new en);this.delegate=e,this.location=t,this.restorationIdentifier=i||be();const{action:n,historyChanged:l,referrer:u,snapshot:p,snapshotHTML:y,response:M,visitCachedSnapshot:P,willRender:k,updateHistory:F,shouldCacheSnapshot:A,acceptsStreamResponse:I,direction:_}={...tn,...s};this.action=n,this.historyChanged=l,this.referrer=u,this.snapshot=p,this.snapshotHTML=y,this.response=M,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=P,this.willRender=k,this.updateHistory=F,this.scrolled=!k,this.shouldCacheSnapshot=A,this.acceptsStreamResponse=I,this.direction=_||rn[n]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==ae.initialized&&(this.recordTimingMetric(ft.visitStart),this.state=ae.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==ae.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=ae.canceled)}complete(){this.state==ae.started&&(this.recordTimingMetric(ft.visitEnd),this.adapter.visitCompleted(this),this.state=ae.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==ae.started&&(this.state=ae.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)==null?void 0:e.href)?"replace":this.action,i=Br(t);this.history.update(i,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new je(this,K.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(ft.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;fr(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(ft.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,fr(e)&&t!=null){const i=X.fromHTMLString(t);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(X.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Re(this.location)||e.hasAnchor(Re(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return X.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)!=null&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Ce.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const i=await t.responseHTML,{redirected:s,statusCode:n}=t;i==null?this.recordResponse({statusCode:_e.contentTypeMismatch,redirected:s}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:n,responseHTML:i,redirected:s}))}async requestFailedWithResponse(e,t){const i=await t.responseHTML,{redirected:s,statusCode:n}=t;i==null?this.recordResponse({statusCode:_e.contentTypeMismatch,redirected:s}):this.recordResponse({statusCode:n,responseHTML:i,redirected:s})}requestErrored(e,t){this.recordResponse({statusCode:_e.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=Re(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function fr(r){return r>=200&&r<300}class nn{constructor(e){v(this,"progressBar",new Kt);v(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){de(e,this.navigator.rootLocation)?this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||be(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case _e.networkFailure:case _e.timeoutFailure:case _e.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;H("turbo:reload",{detail:e}),window.location.href=((t=this.location)==null?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class on{constructor(){v(this,"selector","[data-turbo-temporary]");v(this,"deprecatedSelector","[data-turbo-cache=false]");v(this,"started",!1);v(this,"removeTemporaryElements",e=>{for(const t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}var Z,si,gt,bt;class an{constructor(e,t){x(this,Z);this.session=e,this.element=t,this.linkInterceptor=new Qr(this,t),this.formSubmitObserver=new ir(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,i){return R(this,Z,gt).call(this,e)}linkClickIntercepted(e,t,i){const s=R(this,Z,bt).call(this,e);s&&s.delegate.linkClickIntercepted(e,t,i)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&R(this,Z,si).call(this,e,t)&&R(this,Z,gt).call(this,e,t)}formSubmitted(e,t){const i=R(this,Z,bt).call(this,e,t);i&&i.delegate.formSubmitted(e,t)}}Z=new WeakSet,si=function(e,t){const i=tr(e,t),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=z((s==null?void 0:s.content)??"/");return R(this,Z,gt).call(this,e,t)&&de(i,n)},gt=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const s=R(this,Z,bt).call(this,e,t);return s?s!=e.closest("turbo-frame"):!1}else return!1},bt=function(e,t){const i=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(i&&i!="_top"){const s=this.element.querySelector(`#${i}:not([disabled])`);if(s instanceof Q)return s}};class ln{constructor(e){v(this,"location");v(this,"restorationIdentifier",be());v(this,"restorationData",{});v(this,"started",!1);v(this,"pageLoaded",!1);v(this,"currentIndex",0);v(this,"onPopState",e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:i,restorationIndex:s}=t;this.restorationIdentifier=i;const n=s>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,n),this.currentIndex=s}}});v(this,"onPageLoad",async e=>{await ss(),this.pageLoaded=!0});this.delegate=e}start(){var e,t;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=((t=(e=history.state)==null?void 0:e.turbo)==null?void 0:t.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,i=be()){e===history.pushState&&++this.currentIndex;const s={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};e.call(history,s,"",t.href),this.location=t,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,i=this.restorationData[t];this.restorationData[t]={...i,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}var De,nt,ot,at,Mt,lt,We,ni,oi;class cn{constructor(e,t){x(this,We);v(this,"started",!1);x(this,De,null);x(this,nt,()=>{this.eventTarget.addEventListener("mouseenter",L(this,ot),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",L(this,at),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",L(this,lt),!0),this.started=!0});x(this,ot,e=>{if(At("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&R(this,We,oi).call(this,t)){const s=t,n=jr(s);if(this.delegate.canPrefetchRequestToLocation(s,n)){O(this,De,s);const l=new je(this,K.get,n,new URLSearchParams,t);qe.setLater(n.toString(),l,L(this,We,ni))}}});x(this,at,e=>{e.target===L(this,De)&&L(this,Mt).call(this)});x(this,Mt,()=>{qe.clear(),O(this,De,null)});x(this,lt,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=qe.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),qe.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",L(this,nt),{once:!0}):L(this,nt).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",L(this,ot),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",L(this,at),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",L(this,lt),!0),this.started=!1)}prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const i=t.closest("turbo-frame"),s=t.getAttribute("data-turbo-frame")||(i==null?void 0:i.getAttribute("target"))||(i==null?void 0:i.id);s&&s!=="_top"&&(e.headers["Turbo-Frame"]=s)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}De=new WeakMap,nt=new WeakMap,ot=new WeakMap,at=new WeakMap,Mt=new WeakMap,lt=new WeakMap,We=new WeakSet,ni=function(){return Number(At("turbo-prefetch-cache-time"))||Ps},oi=function(e){return!(!e.getAttribute("href")||hn(e)||un(e)||dn(e)||fn(e)||pn(e))};const hn=r=>r.origin!==document.location.origin||!["http:","https:"].includes(r.protocol)||r.hasAttribute("target"),un=r=>r.pathname+r.search===document.location.pathname+document.location.search||r.href.startsWith("#"),dn=r=>{if(r.getAttribute("data-turbo-prefetch")==="false"||r.getAttribute("data-turbo")==="false")return!0;const e=xe(r,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},fn=r=>{const e=r.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||mn(r)||r.hasAttribute("data-turbo-confirm")||r.hasAttribute("data-turbo-stream"))},mn=r=>r.hasAttribute("data-remote")||r.hasAttribute("data-behavior")||r.hasAttribute("data-confirm")||r.hasAttribute("data-method"),pn=r=>H("turbo:before-prefetch",{target:r,cancelable:!0}).defaultPrevented;var Ue,ai,li;class gn{constructor(e){x(this,Ue);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,i={}){this.stop(),this.currentVisit=new sn(this,z(e),t,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new qt(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const i=await t.responseHTML;if(i){const s=e.isSafe;s||this.view.clearSnapshotCache();const{statusCode:n,redirected:l}=t,p={action:R(this,Ue,ai).call(this,e,t),shouldCacheSnapshot:s,response:{statusCode:n,responseHTML:i,redirected:l}};this.proposeVisit(t.location,p)}}}async formSubmissionFailedWithResponse(e,t){const i=await t.responseHTML;if(i){const s=X.fromHTMLString(i);t.serverError?await this.view.renderError(s,this.currentVisit):await this.view.renderPage(s,!1,!0,this.currentVisit),s.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const i=Re(e),s=Re(this.view.lastRenderedLocation),n=t==="restore"&&typeof i>"u";return t!=="replace"&&Yt(e)===Yt(this.view.lastRenderedLocation)&&(n||i!=null&&i!==s)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}Ue=new WeakSet,ai=function(e,t){const{submitter:i,formElement:s}=e;return Le(i,s)||R(this,Ue,li).call(this,t)},li=function(e){var i;return e.redirected&&e.location.href===((i=this.location)==null?void 0:i.href)?"replace":"advance"};const ye={initial:0,loading:1,interactive:2,complete:3};class bn{constructor(e){v(this,"stage",ye.initial);v(this,"started",!1);v(this,"interpretReadyState",()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});v(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==ye.initial&&(this.stage=ye.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ye.loading&&(this.stage=ye.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ye.interactive&&(this.stage=ye.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class vn{constructor(e){v(this,"started",!1);v(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class yn{render({fragment:e}){ri.preservingPermanentElements(this,wn(e),()=>{Sn(e,()=>{En(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function wn(r){const e=Xr(document.documentElement),t={};for(const i of e){const{id:s}=i;for(const n of r.querySelectorAll("turbo-stream")){const l=Gr(n.templateElement.content,s);l&&(t[s]=[i,l])}}return t}async function Sn(r,e){const t=`turbo-stream-autofocus-${be()}`,i=r.querySelectorAll("turbo-stream"),s=An(i);let n=null;if(s&&(s.id?n=s.id:n=t,s.id=n),e(),await Xe(),(document.activeElement==null||document.activeElement==document.body)&&n){const u=document.getElementById(n);er(u)&&u.focus(),u&&u.id==t&&u.removeAttribute("id")}}async function En(r){const[e,t]=await hs(r,()=>document.activeElement),i=e&&e.id;if(i){const s=document.getElementById(i);er(s)&&s!=t&&s.focus()}}function An(r){for(const e of r){const t=Vr(e.templateElement.content);if(t)return t}return null}var pe;class Tn{constructor(e){v(this,"sources",new Set);x(this,pe,!1);v(this,"inspectFetchResponse",e=>{const t=Ln(e);t&&Rn(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});v(this,"receiveMessageEvent",e=>{L(this,pe)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){L(this,pe)||(O(this,pe,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){L(this,pe)&&(O(this,pe,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Ce.wrap(e))}}pe=new WeakMap;function Ln(r){var t;const e=(t=r.detail)==null?void 0:t.fetchResponse;if(e instanceof kt)return e}function Rn(r){return(r.contentType??"").startsWith(Ce.contentType)}class Cn extends sr{static renderElement(e,t){const{documentElement:i,body:s}=document;i.replaceChild(t,s)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const i=Ze(e);t.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}var Pt,ci;class Dt extends sr{constructor(){super(...arguments);x(this,Pt)}static renderElement(t,i){document.body&&i instanceof HTMLBodyElement?document.body.replaceWith(i):document.documentElement.appendChild(i)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){R(this,Pt,ci).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),i=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await i,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const i of this.newHeadStylesheetElements)t.push(as(i)),document.head.appendChild(i);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(Ze(t))}removeUnusedDynamicStylesheetElements(){for(const t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const i of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(i,t)||document.head.removeChild(i);for(const i of t)document.head.appendChild(i)}isCurrentElementInElementList(t,i){for(const[s,n]of i.entries()){if(t.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(t.innerHTML==n.innerHTML)return i.splice(s,1),!0}if(n.isEqualNode(t))return i.splice(s,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const i=Ze(t);t.replaceWith(i)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}Pt=new WeakSet,ci=function(){const{documentElement:t}=this.currentSnapshot,{lang:i}=this.newSnapshot;i?t.setAttribute("lang",i):t.removeAttribute("lang")};class Mn extends Dt{static renderElement(e,t){nr(e,t,{callbacks:{beforeNodeMorphed:i=>!mr(i)}});for(const i of e.querySelectorAll("turbo-frame"))mr(i)&&i.reload();H("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}function mr(r){return r instanceof Q&&r.src&&r.refresh==="morph"&&!r.closest("[data-turbo-permanent]")}class Pn{constructor(e){v(this,"keys",[]);v(this,"snapshots",{});this.size=e}has(e){return dt(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[dt(e)]}write(e,t){this.snapshots[dt(e)]=t}touch(e){const t=dt(e),i=this.keys.indexOf(t);i>-1&&this.keys.splice(i,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class kn extends Zr{constructor(){super(...arguments);v(this,"snapshotCache",new Pn(10));v(this,"lastRenderedLocation",new URL(location.href));v(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,i=!1,s=!0,n){const u=this.isPageRefresh(n)&&this.snapshot.shouldMorphPage?Mn:Dt,p=new u(this.snapshot,t,i,s);return p.shouldRender?n==null||n.changeHistory():this.forceReloaded=!0,this.render(p)}renderError(t,i){i==null||i.changeHistory();const s=new Cn(this.snapshot,t,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:i}=this;await Dr();const s=t.clone();return this.snapshotCache.put(i,s),s}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return X.fromElement(this.element)}}var ct;class Fn{constructor(e,t){v(this,"selector","a[data-turbo-preload]");x(this,ct,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L(this,ct)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",L(this,ct))}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new je(this,K.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const i=await t.responseHTML,s=X.fromHTMLString(i);this.snapshotCache.put(e.url,s)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}ct=new WeakMap;var Oe,vt;class In{constructor(e){x(this,Oe);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){R(this,Oe,vt).call(this,"")}exemptPageFromCache(){R(this,Oe,vt).call(this,"no-cache")}exemptPageFromPreview(){R(this,Oe,vt).call(this,"no-preview")}}Oe=new WeakSet,vt=function(e){cs("turbo-cache-control",e)};var ht;class qn{constructor(e){v(this,"navigator",new gn(this));v(this,"history",new ln(this));v(this,"view",new kn(this,document.documentElement));v(this,"adapter",new nn(this));v(this,"pageObserver",new bn(this));v(this,"cacheObserver",new on);v(this,"linkPrefetchObserver",new cn(this,document));v(this,"linkClickObserver",new ei(this,window));v(this,"formSubmitObserver",new ir(this,document));v(this,"scrollObserver",new vn(this));v(this,"streamObserver",new Tn(this));v(this,"formLinkClickObserver",new ti(this,document.documentElement));v(this,"frameRedirector",new an(this,document.documentElement));v(this,"streamMessageRenderer",new yn);v(this,"cache",new In(this));v(this,"enabled",!0);v(this,"started",!1);x(this,ht,150);this.recentRequests=e,this.preloader=new Fn(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const i=t.frame?document.getElementById(t.frame):null;if(i instanceof Q){const s=t.action||Le(i);i.delegate.proposeVisitIfNavigatedWithAction(i,s),i.src=e.toString()}else this.navigator.proposeVisit(z(e),t)}refresh(e,t){!(t&&this.recentRequests.has(t))&&!this.navigator.currentVisit&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Ce.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){j.drive.progressBarDelay=e}get progressBarDelay(){return j.drive.progressBarDelay}set drive(e){j.drive.enabled=e}get drive(){return j.drive.enabled}set formMode(e){j.forms.mode=e}get formMode(){return j.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return L(this,ht)}set pageRefreshDebouncePeriod(e){this.refresh=us(this.debouncedRefresh.bind(this),e),O(this,ht,e)}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),i=e.hasAttribute("data-turbo-stream"),s=e.getAttribute("data-turbo-frame"),n=s=="_top"?null:document.getElementById(s)||xe(e,"turbo-frame:not([disabled])");if(t||i||n instanceof Q)return!1;{const l=new URL(e.href);return this.elementIsNavigatable(e)&&de(l,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,i){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&de(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&de(t,this.snapshot.rootLocation)}willFollowLinkToLocation(e,t,i){return this.elementIsNavigatable(e)&&de(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,i)}followedLinkToLocation(e,t){const i=this.getActionForLink(e),s=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:i,acceptsStreamResponse:s})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){pr(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(St(document.documentElement),this.view.markVisitDirection(e.direction)),pr(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),Et(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const i=tr(e,t);return this.submissionIsNavigatable(e,t)&&de(z(i),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(e=this.navigator.currentVisit)!=null&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const i=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:s,detail:{render:n}}=i;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!s}viewRenderedSnapshot(e,t,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,i){return H("turbo:click",{target:e,detail:{url:t.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return H("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return H("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return H("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return H("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return H("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return H("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return H("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return H("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(j.forms.mode=="off")return!1;{const i=t?this.elementIsNavigatable(t):!0;return j.forms.mode=="optin"?i&&e.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=xe(e,"[data-turbo]"),i=xe(e,"turbo-frame");return j.drive.enabled||i?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Le(e)||"advance"}get snapshot(){return this.view.snapshot}}ht=new WeakMap;function pr(r){Object.defineProperties(r,xn)}const xn={absoluteURL:{get(){return this.toString()}}},N=new qn($r),{cache:hi,navigator:ui}=N;function or(){N.start()}function di(r){N.registerAdapter(r)}function fi(r,e){N.visit(r,e)}function Ot(r){N.connectStreamSource(r)}function Ht(r){N.disconnectStreamSource(r)}function mi(r){N.renderStreamMessage(r)}function pi(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),N.clearCache()}function gi(r){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),j.drive.progressBarDelay=r}function bi(r){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),j.forms.confirm=r}function vi(r){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),j.forms.mode=r}var _n=Object.freeze({__proto__:null,navigator:ui,session:N,cache:hi,PageRenderer:Dt,PageSnapshot:X,FrameRenderer:_t,fetch:rr,config:j,start:or,registerAdapter:di,visit:fi,connectStreamSource:Ot,disconnectStreamSource:Ht,renderStreamMessage:mi,clearCache:pi,setProgressBarDelay:gi,setConfirmMethod:bi,setFormMode:vi});class Dn extends Error{}var He,ee,ge,ut,Be,Ne,C,ke,yi,wi,Si,Ei,Ai,Ti,Li,Gt,Fe,Ri,yt,Ci,Mi,Pi;class On{constructor(e){x(this,C);v(this,"fetchResponseLoaded",e=>Promise.resolve());x(this,He,null);x(this,ee,()=>{});x(this,ge,!1);x(this,ut,!1);x(this,Be,new Set);x(this,Ne,!1);v(this,"action",null);v(this,"visitCachedSnapshot",({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new Bs(this,this.element),this.appearanceObserver=new Ls(this,this.element),this.formLinkClickObserver=new ti(this,this.element),this.linkInterceptor=new Qr(this,this.element),this.restorationIdentifier=be(),this.formSubmitObserver=new ir(this,this.element)}connect(){L(this,ge)||(O(this,ge,!0),this.loadingStyle==Ee.lazy?this.appearanceObserver.start():R(this,C,ke).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){L(this,ge)&&(O(this,ge,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Ee.eager&&R(this,C,ke).call(this)}sourceURLChanged(){R(this,C,Ci).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Ee.eager||L(this,ut))&&R(this,C,ke).call(this))}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return O(this,Ne,t&&e==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Ee.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),R(this,C,ke).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const i=Or(t);X.fromDocument(i).isVisitable?await R(this,C,yi).call(this,e,i):await R(this,C,Ei).call(this,e)}}finally{O(this,Ne,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,Le(e)),R(this,C,ke).call(this)}willSubmitFormLinkToLocation(e){return R(this,C,yt).call(this,e)}submittedFormLinkToLocation(e,t,i){const s=R(this,C,Fe).call(this,e);s&&i.setAttribute("data-turbo-frame",s.id)}shouldInterceptLinkClick(e,t,i){return R(this,C,yt).call(this,e)}linkClickIntercepted(e,t){R(this,C,Si).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&R(this,C,yt).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new qt(this,e,t);const{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,(t=this.currentNavigationElement)!=null&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Ce.contentType)}requestStarted(e){St(this.element)}requestPreventedHandlingResponse(e,t){L(this,ee).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),L(this,ee).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),L(this,ee).call(this)}requestErrored(e,t){console.error(t),L(this,ee).call(this)}requestFinished(e){Et(this.element)}formSubmissionStarted({formElement:e}){St(e,R(this,C,Fe).call(this,e))}formSubmissionSucceededWithResponse(e,t){const i=R(this,C,Fe).call(this,e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,Le(e.submitter,e.formElement,i)),i.delegate.loadResponse(t),e.isSafe||N.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),N.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Et(e,R(this,C,Fe).call(this,e))}allowsImmediateRender({element:e},t){const i=H("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:s,detail:{render:n}}=i;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!s}viewRenderedSnapshot(e,t,i){}preloadOnLoadLinksForView(e){N.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const i=X.fromElement(e).clone(),{visitCachedSnapshot:s}=e.delegate;e.delegate.fetchResponseLoaded=async n=>{if(e.src){const{statusCode:l,redirected:u}=n,p=await n.responseHTML,M={response:{statusCode:l,redirected:u,responseHTML:p},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(M.action=this.action),N.visit(e.src,M)}}}}changeHistory(){if(this.action){const e=Br(this.action);N.history.update(e,z(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t;const i=CSS.escape(this.id);try{if(t=br(e.querySelector(`turbo-frame#${i}`),this.sourceURL),t)return t;if(t=br(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(s){return console.error(s),new Q}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){R(this,C,Mi).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||L(this,ee).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&L(this,ge)}get rootLocation(){const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),t=(e==null?void 0:e.content)??"/";return z(t)}}He=new WeakMap,ee=new WeakMap,ge=new WeakMap,ut=new WeakMap,Be=new WeakMap,Ne=new WeakMap,C=new WeakSet,ke=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=R(this,C,wi).call(this,z(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,O(this,ut,!0))},yi=async function(e,t){const i=await this.extractForeignFrameElement(t.body),s=L(this,Ne)?$s:_t;if(i){const n=new xt(i),l=new s(this,this.view.snapshot,n,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(l),this.complete=!0,N.frameRendered(e,this.element),N.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else R(this,C,Ai).call(this,e)&&R(this,C,Ti).call(this,e)},wi=async function(e){var i;const t=new je(this,K.get,e,new URLSearchParams,this.element);return(i=L(this,He))==null||i.cancel(),O(this,He,t),new Promise(s=>{O(this,ee,()=>{O(this,ee,()=>{}),O(this,He,null),s()}),t.perform()})},Si=function(e,t,i){const s=R(this,C,Fe).call(this,e,i);s.delegate.proposeVisitIfNavigatedWithAction(s,Le(i,e,s)),R(this,C,Pi).call(this,e,()=>{s.src=t})},Ei=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await R(this,C,Gt).call(this,e.response)},Ai=function(e){this.element.setAttribute("complete","");const t=e.response,i=async(n,l)=>{n instanceof Response?R(this,C,Gt).call(this,n):N.visit(n,l)};return!H("turbo:frame-missing",{target:this.element,detail:{response:t,visit:i},cancelable:!0}).defaultPrevented},Ti=function(e){this.view.missing(),R(this,C,Li).call(this,e)},Li=function(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Dn(t)},Gt=async function(e){const t=new kt(e),i=await t.responseHTML,{location:s,redirected:n,statusCode:l}=t;return N.visit(s,{response:{redirected:n,statusCode:l,responseHTML:i}})},Fe=function(e,t){const i=wt("data-turbo-frame",t,e)||this.element.getAttribute("target");return gr(i)??this.element},Ri=function(e,t){const i=tr(e,t);return de(z(i),this.rootLocation)},yt=function(e,t){const i=wt("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!R(this,C,Ri).call(this,e,t)||!this.enabled||i=="_top")return!1;if(i){const s=gr(i);if(s)return!s.disabled}return!(!N.elementIsNavigatable(e)||t&&!N.elementIsNavigatable(t))},Ci=function(e){return L(this,Be).has(e)},Mi=function(e,t){L(this,Be).add(e),t(),L(this,Be).delete(e)},Pi=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement};function gr(r){if(r!=null){const e=document.getElementById(r);if(e instanceof Q)return e}}function br(r,e){if(r){const t=r.getAttribute("src");if(t!=null&&e!=null&&bs(t,e))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof Q)return r.connectedCallback(),r.disconnectedCallback(),r}}const ar={after(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)==null?void 0:e.insertBefore(this.templateContent,r.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)==null?void 0:e.insertBefore(this.templateContent,r)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){const r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?nr(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?ii(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){N.refresh(this.baseURI,this.requestId)}};var Te,Je;const lr=class lr extends HTMLElement{constructor(){super(...arguments);x(this,Te)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await Xe(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var s;const t=this.targetElements.flatMap(n=>[...n.children]).filter(n=>!!n.id),i=[...((s=this.templateContent)==null?void 0:s.children)||[]].filter(n=>!!n.id).map(n=>n.id);return t.filter(n=>i.includes(n.id))}get performAction(){if(this.action){const t=ar[this.action];if(t)return t;R(this,Te,Je).call(this,"unknown action")}R(this,Te,Je).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;R(this,Te,Je).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;R(this,Te,Je).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:lr.renderElement}})}get targetElementsById(){var i;const t=(i=this.ownerDocument)==null?void 0:i.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var i;const t=(i=this.ownerDocument)==null?void 0:i.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};Te=new WeakSet,Je=function(t){throw new Error(`${this.description}: ${t}`)};let Tt=lr;class ki extends HTMLElement{constructor(){super(...arguments);v(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Ot(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Ht(this.streamSource))}get src(){return this.getAttribute("src")||""}}Q.delegateConstructor=On;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Q);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Tt);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",ki);(()=>{let r=document.currentScript;if(r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(Hr`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applicationâs JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ââ
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo={..._n,StreamActions:ar};or();const Hn=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:fe,FetchMethod:K,FetchRequest:je,FetchResponse:kt,FrameElement:Q,FrameLoadingStyle:Ee,FrameRenderer:_t,PageRenderer:Dt,PageSnapshot:X,StreamActions:ar,StreamElement:Tt,StreamSourceElement:ki,cache:hi,clearCache:pi,config:j,connectStreamSource:Ot,disconnectStreamSource:Ht,fetch:rr,fetchEnctypeFromString:zr,fetchMethodFromString:Ft,isSafe:It,navigator:ui,registerAdapter:di,renderStreamMessage:mi,session:N,setConfirmMethod:bi,setFormMode:vi,setProgressBarDelay:gi,start:or,visit:fi},Symbol.toStringTag,{value:"Module"})),Bn="modulepreload",Nn=function(r){return"/vite/"+r},vr={},te=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(p=>{if(p=Nn(p),p in vr)return;vr[p]=!0;const y=p.endsWith(".css"),M=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${M}`))return;const P=document.createElement("link");if(P.rel=y?"stylesheet":Bn,y||(P.as="script"),P.crossOrigin="",P.href=p,u&&P.setAttribute("nonce",u),document.head.appendChild(P),y)return new Promise((k,F)=>{P.addEventListener("load",k),P.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${p}`)))})}))}function n(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&n(u.reason);return e().catch(n)})};let Fi;async function Vn(){return Fi||yr(Wn().then(yr))}function yr(r){return Fi=r}async function Wn(){const{createConsumer:r}=await te(async()=>{const{createConsumer:e}=await import("./index-lVzqX2jn.js");return{createConsumer:e}},[]);return r()}async function Un(r,e){const{subscriptions:t}=await Vn();return t.create(r,e)}function Xt(r){return!r||typeof r!="object"||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?r.map(Xt):Object.keys(r).reduce(function(e,t){var i=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(s,n){return"_"+n.toLowerCase()});return e[i]=Xt(r[t]),e},{})}class Ii extends HTMLElement{async connectedCallback(){Ot(this),this.subscription=await Un(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Ht(this),this.subscription&&this.subscription.unsubscribe(),this.subscriptionDisconnected()}attributeChangedCallback(){this.subscription&&(this.disconnectedCallback(),this.connectedCallback())}dispatchMessageEvent(e){const t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...Xt({...this.dataset})}}}v(Ii,"observedAttributes",["channel","signed-stream-name"]);customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Ii);function jn(r){if(r.target instanceof HTMLFormElement){const{target:e,detail:{fetchOptions:t}}=r;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:i}}})=>{const s=Jn(t.body)?t.body:new URLSearchParams,n=$n(i,s,e);/get/i.test(n)||(/post/i.test(n)?s.delete("_method"):s.set("_method",n),t.method="post")},{once:!0})}}function $n(r,e,t){const i=zn(r),s=e.get("_method"),n=t.getAttribute("method")||"get";return typeof i=="string"?i:typeof s=="string"?s:n}function zn(r){return r instanceof HTMLButtonElement||r instanceof HTMLInputElement?r.name==="_method"?r.value:r.hasAttribute("formmethod")?r.formMethod:null:null}function Jn(r){return r instanceof FormData||r instanceof URLSearchParams}window.Turbo=Hn;addEventListener("turbo:before-fetch-request",jn);var Yn=function(r,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},wr=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},Ye;class Kn{formatToParts(e){const t=[];for(const i of e)t.push({type:"element",value:i}),t.push({type:"literal",value:", "});return t.slice(0,-1)}}const Gn=typeof Intl<"u"&&Intl.ListFormat||Kn,Xn=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"]],Zn={minimumIntegerDigits:2};class Qn{constructor(e,t={}){Ye.set(this,void 0);let i=String(t.style||"short");i!=="long"&&i!=="short"&&i!=="narrow"&&i!=="digital"&&(i="short");let s=i==="digital"?"numeric":i;const n=t.hours||s;s=n==="2-digit"?"numeric":n;const l=t.minutes||s;s=l==="2-digit"?"numeric":l;const u=t.seconds||s;s=u==="2-digit"?"numeric":u;const p=t.milliseconds||s;Yn(this,Ye,{locale:e,style:i,years:t.years||i==="digital"?"short":i,yearsDisplay:t.yearsDisplay==="always"?"always":"auto",months:t.months||i==="digital"?"short":i,monthsDisplay:t.monthsDisplay==="always"?"always":"auto",weeks:t.weeks||i==="digital"?"short":i,weeksDisplay:t.weeksDisplay==="always"?"always":"auto",days:t.days||i==="digital"?"short":i,daysDisplay:t.daysDisplay==="always"?"always":"auto",hours:n,hoursDisplay:t.hoursDisplay==="always"||i==="digital"?"always":"auto",minutes:l,minutesDisplay:t.minutesDisplay==="always"||i==="digital"?"always":"auto",seconds:u,secondsDisplay:t.secondsDisplay==="always"||i==="digital"?"always":"auto",milliseconds:p,millisecondsDisplay:t.millisecondsDisplay==="always"?"always":"auto"},"f")}resolvedOptions(){return wr(this,Ye,"f")}formatToParts(e){const t=[],i=wr(this,Ye,"f"),s=i.style,n=i.locale;for(const[l,u]of Xn){const p=e[l];if(i[`${l}Display`]==="auto"&&!p)continue;const y=i[l],M=y==="2-digit"?Zn:y==="numeric"?{}:{style:"unit",unit:u,unitDisplay:y};t.push(new Intl.NumberFormat(n,M).format(p))}return new Gn(n,{type:"unit",style:s==="digital"?"short":s}).formatToParts(t)}format(e){return this.formatToParts(e).map(t=>t.value).join("")}}Ye=new WeakMap;const qi=/^[-+]?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$/,Lt=["year","month","week","day","hour","minute","second","millisecond"],eo=r=>qi.test(r);class Y{constructor(e=0,t=0,i=0,s=0,n=0,l=0,u=0,p=0){this.years=e,this.months=t,this.weeks=i,this.days=s,this.hours=n,this.minutes=l,this.seconds=u,this.milliseconds=p,this.years||(this.years=0),this.sign||(this.sign=Math.sign(this.years)),this.months||(this.months=0),this.sign||(this.sign=Math.sign(this.months)),this.weeks||(this.weeks=0),this.sign||(this.sign=Math.sign(this.weeks)),this.days||(this.days=0),this.sign||(this.sign=Math.sign(this.days)),this.hours||(this.hours=0),this.sign||(this.sign=Math.sign(this.hours)),this.minutes||(this.minutes=0),this.sign||(this.sign=Math.sign(this.minutes)),this.seconds||(this.seconds=0),this.sign||(this.sign=Math.sign(this.seconds)),this.milliseconds||(this.milliseconds=0),this.sign||(this.sign=Math.sign(this.milliseconds)),this.blank=this.sign===0}abs(){return new Y(Math.abs(this.years),Math.abs(this.months),Math.abs(this.weeks),Math.abs(this.days),Math.abs(this.hours),Math.abs(this.minutes),Math.abs(this.seconds),Math.abs(this.milliseconds))}static from(e){var t;if(typeof e=="string"){const i=String(e).trim(),s=i.startsWith("-")?-1:1,n=(t=i.match(qi))===null||t===void 0?void 0:t.slice(1).map(l=>(Number(l)||0)*s);return n?new Y(...n):new Y}else if(typeof e=="object"){const{years:i,months:s,weeks:n,days:l,hours:u,minutes:p,seconds:y,milliseconds:M}=e;return new Y(i,s,n,l,u,p,y,M)}throw new RangeError("invalid duration")}static compare(e,t){const i=Date.now(),s=Math.abs(Sr(i,Y.from(e)).getTime()-i),n=Math.abs(Sr(i,Y.from(t)).getTime()-i);return s>n?-1:s<n?1:0}toLocaleString(e,t){return new Qn(e,t).format(this)}}function Sr(r,e){const t=new Date(r);return t.setFullYear(t.getFullYear()+e.years),t.setMonth(t.getMonth()+e.months),t.setDate(t.getDate()+e.weeks*7+e.days),t.setHours(t.getHours()+e.hours),t.setMinutes(t.getMinutes()+e.minutes),t.setSeconds(t.getSeconds()+e.seconds),t}function to(r,e="second",t=Date.now()){const i=r.getTime()-t;if(i===0)return new Y;const s=Math.sign(i),n=Math.abs(i),l=Math.floor(n/1e3),u=Math.floor(l/60),p=Math.floor(u/60),y=Math.floor(p/24),M=Math.floor(y/30),P=Math.floor(M/12),k=Lt.indexOf(e)||Lt.length;return new Y(k>=0?P*s:0,k>=1?(M-P*12)*s:0,0,k>=3?(y-M*30)*s:0,k>=4?(p-y*24)*s:0,k>=5?(u-p*60)*s:0,k>=6?(l-u*60)*s:0,k>=7?(n-l*1e3)*s:0)}function xi(r,{relativeTo:e=Date.now()}={}){if(e=new Date(e),r.blank)return r;const t=r.sign;let i=Math.abs(r.years),s=Math.abs(r.months),n=Math.abs(r.weeks),l=Math.abs(r.days),u=Math.abs(r.hours),p=Math.abs(r.minutes),y=Math.abs(r.seconds),M=Math.abs(r.milliseconds);M>=900&&(y+=Math.round(M/1e3)),(y||p||u||l||n||s||i)&&(M=0),y>=55&&(p+=Math.round(y/60)),(p||u||l||n||s||i)&&(y=0),p>=55&&(u+=Math.round(p/60)),(u||l||n||s||i)&&(p=0),l&&u>=12&&(l+=Math.round(u/24)),!l&&u>=21&&(l+=Math.round(u/24)),(l||n||s||i)&&(u=0);const P=e.getFullYear(),k=e.getMonth(),F=e.getDate();if(l>=27||i+s+l){const A=new Date(e);A.setDate(1),A.setMonth(k+s*t+1),A.setDate(0);const I=Math.max(0,F-A.getDate()),_=new Date(e);_.setFullYear(P+i*t),_.setDate(F-I),_.setMonth(k+s*t),_.setDate(F-I+l*t);const D=_.getFullYear()-e.getFullYear(),J=_.getMonth()-e.getMonth(),re=Math.abs(Math.round((Number(_)-Number(e))/864e5))+I,ie=Math.abs(D*12+J);re<27?(l>=6?(n+=Math.round(l/7),l=0):l=re,s=i=0):ie<11?(s=ie,i=0):(s=0,i=D*t),(s||i)&&(l=0)}return i&&(s=0),n>=4&&(s+=Math.round(n/4)),(s||i)&&(n=0),l&&n&&!s&&!i&&(n+=Math.round(l/7),l=0),new Y(i*t,s*t,n*t,l*t,u*t,p*t,y*t,M*t)}function ro(r,e){const t=xi(r,e);if(t.blank)return[0,"second"];for(const i of Lt){if(i==="millisecond")continue;const s=t[`${i}s`];if(s)return[s,i]}return[0,"second"]}var V=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},mt=function(r,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},G,Ke,Ge,ze,Se,Zt,_i,Di,Oi,Hi,Ie;const io=globalThis.HTMLElement||null,Wt=new Y,Er=new Y(0,0,0,0,0,1);class so extends Event{constructor(e,t,i,s){super("relative-time-updated",{bubbles:!0,composed:!0}),this.oldText=e,this.newText=t,this.oldTitle=i,this.newTitle=s}}function Ar(r){if(!r.date)return 1/0;if(r.format==="duration"||r.format==="elapsed"){const t=r.precision;if(t==="second")return 1e3;if(t==="minute")return 60*1e3}const e=Math.abs(Date.now()-r.date.getTime());return e<60*1e3?1e3:e<60*60*1e3?60*1e3:60*60*1e3}const Ut=new class{constructor(){this.elements=new Set,this.time=1/0,this.timer=-1}observe(r){if(this.elements.has(r))return;this.elements.add(r);const e=r.date;if(e&&e.getTime()){const t=Ar(r),i=Date.now()+t;i<this.time&&(clearTimeout(this.timer),this.timer=setTimeout(()=>this.update(),t),this.time=i)}}unobserve(r){this.elements.has(r)&&this.elements.delete(r)}update(){if(clearTimeout(this.timer),!this.elements.size)return;let r=1/0;for(const e of this.elements)r=Math.min(r,Ar(e)),e.update();this.time=Math.min(60*60*1e3,r),this.timer=setTimeout(()=>this.update(),this.time),this.time+=Date.now()}};class no extends io{constructor(){super(...arguments),G.add(this),Ke.set(this,!1),Ge.set(this,!1),Se.set(this,this.shadowRoot?this.shadowRoot:this.attachShadow?this.attachShadow({mode:"open"}):this),Ie.set(this,null)}static define(e="relative-time",t=customElements){return t.define(e,this),this}static get observedAttributes(){return["second","minute","hour","weekday","day","month","year","time-zone-name","prefix","threshold","tense","precision","format","format-style","no-title","datetime","lang","title"]}get onRelativeTimeUpdated(){return V(this,Ie,"f")}set onRelativeTimeUpdated(e){V(this,Ie,"f")&&this.removeEventListener("relative-time-updated",V(this,Ie,"f")),mt(this,Ie,typeof e=="object"||typeof e=="function"?e:null,"f"),typeof e=="function"&&this.addEventListener("relative-time-updated",e)}get second(){const e=this.getAttribute("second");if(e==="numeric"||e==="2-digit")return e}set second(e){this.setAttribute("second",e||"")}get minute(){const e=this.getAttribute("minute");if(e==="numeric"||e==="2-digit")return e}set minute(e){this.setAttribute("minute",e||"")}get hour(){const e=this.getAttribute("hour");if(e==="numeric"||e==="2-digit")return e}set hour(e){this.setAttribute("hour",e||"")}get weekday(){const e=this.getAttribute("weekday");if(e==="long"||e==="short"||e==="narrow")return e;if(this.format==="datetime"&&e!=="")return this.formatStyle}set weekday(e){this.setAttribute("weekday",e||"")}get day(){var e;const t=(e=this.getAttribute("day"))!==null&&e!==void 0?e:"numeric";if(t==="numeric"||t==="2-digit")return t}set day(e){this.setAttribute("day",e||"")}get month(){const e=this.format;let t=this.getAttribute("month");if(t!==""&&(t??(t=e==="datetime"?this.formatStyle:"short"),t==="numeric"||t==="2-digit"||t==="short"||t==="long"||t==="narrow"))return t}set month(e){this.setAttribute("month",e||"")}get year(){var e;const t=this.getAttribute("year");if(t==="numeric"||t==="2-digit")return t;if(!this.hasAttribute("year")&&new Date().getUTCFullYear()!==((e=this.date)===null||e===void 0?void 0:e.getUTCFullYear()))return"numeric"}set year(e){this.setAttribute("year",e||"")}get timeZoneName(){const e=this.getAttribute("time-zone-name");if(e==="long"||e==="short"||e==="shortOffset"||e==="longOffset"||e==="shortGeneric"||e==="longGeneric")return e}set timeZoneName(e){this.setAttribute("time-zone-name",e||"")}get prefix(){var e;return(e=this.getAttribute("prefix"))!==null&&e!==void 0?e:this.format==="datetime"?"":"on"}set prefix(e){this.setAttribute("prefix",e)}get threshold(){const e=this.getAttribute("threshold");return e&&eo(e)?e:"P30D"}set threshold(e){this.setAttribute("threshold",e)}get tense(){const e=this.getAttribute("tense");return e==="past"?"past":e==="future"?"future":"auto"}set tense(e){this.setAttribute("tense",e)}get precision(){const e=this.getAttribute("precision");return Lt.includes(e)?e:this.format==="micro"?"minute":"second"}set precision(e){this.setAttribute("precision",e)}get format(){const e=this.getAttribute("format");return e==="datetime"?"datetime":e==="relative"?"relative":e==="duration"?"duration":e==="micro"?"micro":e==="elapsed"?"elapsed":"auto"}set format(e){this.setAttribute("format",e)}get formatStyle(){const e=this.getAttribute("format-style");if(e==="long")return"long";if(e==="short")return"short";if(e==="narrow")return"narrow";const t=this.format;return t==="elapsed"||t==="micro"?"narrow":t==="datetime"?"short":"long"}set formatStyle(e){this.setAttribute("format-style",e)}get noTitle(){return this.hasAttribute("no-title")}set noTitle(e){this.toggleAttribute("no-title",e)}get datetime(){return this.getAttribute("datetime")||""}set datetime(e){this.setAttribute("datetime",e)}get date(){const e=Date.parse(this.datetime);return Number.isNaN(e)?null:new Date(e)}set date(e){this.datetime=(e==null?void 0:e.toISOString())||""}connectedCallback(){this.update()}disconnectedCallback(){Ut.unobserve(this)}attributeChangedCallback(e,t,i){t!==i&&(e==="title"&&mt(this,Ke,i!==null&&(this.date&&V(this,G,"m",Zt).call(this,this.date))!==i,"f"),!V(this,Ge,"f")&&!(e==="title"&&V(this,Ke,"f"))&&mt(this,Ge,(async()=>{await Promise.resolve(),this.update(),mt(this,Ge,!1,"f")})(),"f"))}update(){const e=V(this,Se,"f").textContent||this.textContent||"",t=this.getAttribute("title")||"";let i=t;const s=this.date;if(typeof Intl>"u"||!Intl.DateTimeFormat||!s){V(this,Se,"f").textContent=e;return}const n=Date.now();V(this,Ke,"f")||(i=V(this,G,"m",Zt).call(this,s)||"",i&&!this.noTitle&&this.setAttribute("title",i));const l=to(s,this.precision,n),u=V(this,G,"m",_i).call(this,l);let p=e;u==="duration"?p=V(this,G,"m",Di).call(this,l):u==="relative"?p=V(this,G,"m",Oi).call(this,l):p=V(this,G,"m",Hi).call(this,s),p?V(this,Se,"f").textContent=p:this.shadowRoot===V(this,Se,"f")&&this.textContent&&(V(this,Se,"f").textContent=this.textContent),(p!==e||i!==t)&&this.dispatchEvent(new so(e,p,t,i)),u==="relative"||u==="duration"?Ut.observe(this):Ut.unobserve(this)}}Ke=new WeakMap,Ge=new WeakMap,Se=new WeakMap,Ie=new WeakMap,G=new WeakSet,ze=function(){var e;return((e=this.closest("[lang]"))===null||e===void 0?void 0:e.getAttribute("lang"))||this.ownerDocument.documentElement.getAttribute("lang")||"default"},Zt=function(e){return new Intl.DateTimeFormat(V(this,G,"a",ze),{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}).format(e)},_i=function(e){const t=this.format;if(t==="datetime")return"datetime";if(t==="duration"||t==="elapsed"||t==="micro")return"duration";if((t==="auto"||t==="relative")&&typeof Intl<"u"&&Intl.RelativeTimeFormat){const i=this.tense;if(i==="past"||i==="future"||Y.compare(e,this.threshold)===1)return"relative"}return"datetime"},Di=function(e){const t=V(this,G,"a",ze),i=this.format,s=this.formatStyle,n=this.tense;let l=Wt;i==="micro"?(e=xi(e),l=Er,(this.tense==="past"&&e.sign!==-1||this.tense==="future"&&e.sign!==1)&&(e=Er)):(n==="past"&&e.sign!==-1||n==="future"&&e.sign!==1)&&(e=l);const u=`${this.precision}sDisplay`;return e.blank?l.toLocaleString(t,{style:s,[u]:"always"}):e.abs().toLocaleString(t,{style:s})},Oi=function(e){const t=new Intl.RelativeTimeFormat(V(this,G,"a",ze),{numeric:"auto",style:this.formatStyle}),i=this.tense;i==="future"&&e.sign!==1&&(e=Wt),i==="past"&&e.sign!==-1&&(e=Wt);const[s,n]=ro(e);return n==="second"&&s<10?t.format(0,this.precision==="millisecond"?"second":this.precision):t.format(s,n)},Hi=function(e){const t=new Intl.DateTimeFormat(V(this,G,"a",ze),{second:this.second,minute:this.minute,hour:this.hour,weekday:this.weekday,day:this.day,month:this.month,year:this.year,timeZoneName:this.timeZoneName});return`${this.prefix} ${t.format(e)}`.trim()};const Tr=typeof globalThis<"u"?globalThis:window;try{Tr.RelativeTimeElement=no.define()}catch(r){if(!(Tr.DOMException&&r instanceof DOMException&&r.name==="NotSupportedError")&&!(r instanceof ReferenceError))throw r}function $(r){document.documentElement.addEventListener("turbo:load",r)}$(async()=>{if(document.querySelector(".remove-attachments, .user-screenshots")){const{Luminous:r,LuminousGallery:e}=await te(async()=>{const{Luminous:t,LuminousGallery:i}=await import("./lum-BlUAuhCS.js");return{Luminous:t,LuminousGallery:i}},[]);document.querySelectorAll(".remove-attachments, .user-screenshots").forEach(t=>{let i=t.querySelectorAll("a");switch(i.length){case 0:break;case 1:new r(i[0]);break;default:new e(i)}})}});var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ao(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function lo(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),t}var jt={exports:{}};const co={},ho=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),Lr=lo(ho);/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var Rr;function uo(){return Rr||(Rr=1,function(r){(function(){var e="input is invalid type",t="finalize already called",i=typeof window=="object",s=i?window:{};s.JS_SHA1_NO_WINDOW&&(i=!1);var n=!i&&typeof self=="object",l=!s.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?s=oo:n&&(s=self);var u=!s.JS_SHA1_NO_COMMON_JS&&!0&&r.exports,p=!s.JS_SHA1_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",y="0123456789abcdef".split(""),M=[-2147483648,8388608,32768,128],P=[24,16,8,0],k=["hex","array","digest","arrayBuffer"],F=[],A=Array.isArray;(s.JS_SHA1_NO_NODE_JS||!A)&&(A=function(c){return Object.prototype.toString.call(c)==="[object Array]"});var I=ArrayBuffer.isView;p&&(s.JS_SHA1_NO_ARRAY_BUFFER_IS_VIEW||!I)&&(I=function(c){return typeof c=="object"&&c.buffer&&c.buffer.constructor===ArrayBuffer});var _=function(c){var f=typeof c;if(f==="string")return[c,!0];if(f!=="object"||c===null)throw new Error(e);if(p&&c.constructor===ArrayBuffer)return[new Uint8Array(c),!1];if(!A(c)&&!I(c))throw new Error(e);return[c,!1]},D=function(c){return function(f){return new B(!0).update(f)[c]()}},J=function(){var c=D("hex");l&&(c=re(c)),c.create=function(){return new B},c.update=function(d){return c.create().update(d)};for(var f=0;f<k.length;++f){var g=k[f];c[g]=D(g)}return c},re=function(c){var f=Lr,g=Lr.Buffer,d;g.from&&!s.JS_SHA1_NO_BUFFER_FROM?d=g.from:d=function(m){return new g(m)};var b=function(m){if(typeof m=="string")return f.createHash("sha1").update(m,"utf8").digest("hex");if(m==null)throw new Error(e);return m.constructor===ArrayBuffer&&(m=new Uint8Array(m)),A(m)||I(m)||m.constructor===g?f.createHash("sha1").update(d(m)).digest("hex"):c(m)};return b},ie=function(c){return function(f,g){return new se(f,!0).update(g)[c]()}},Me=function(){var c=ie("hex");c.create=function(d){return new se(d)},c.update=function(d,b){return c.create(d).update(b)};for(var f=0;f<k.length;++f){var g=k[f];c[g]=ie(g)}return c};function B(c){c?(F[0]=F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0,this.blocks=F):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}B.prototype.update=function(c){if(this.finalized)throw new Error(t);var f=_(c);c=f[0];for(var g=f[1],d,b=0,m,T=c.length||0,o=this.blocks;b<T;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),g)for(m=this.start;b<T&&m<64;++b)d=c.charCodeAt(b),d<128?o[m>>>2]|=d<<P[m++&3]:d<2048?(o[m>>>2]|=(192|d>>>6)<<P[m++&3],o[m>>>2]|=(128|d&63)<<P[m++&3]):d<55296||d>=57344?(o[m>>>2]|=(224|d>>>12)<<P[m++&3],o[m>>>2]|=(128|d>>>6&63)<<P[m++&3],o[m>>>2]|=(128|d&63)<<P[m++&3]):(d=65536+((d&1023)<<10|c.charCodeAt(++b)&1023),o[m>>>2]|=(240|d>>>18)<<P[m++&3],o[m>>>2]|=(128|d>>>12&63)<<P[m++&3],o[m>>>2]|=(128|d>>>6&63)<<P[m++&3],o[m>>>2]|=(128|d&63)<<P[m++&3]);else for(m=this.start;b<T&&m<64;++b)o[m>>>2]|=c[b]<<P[m++&3];this.lastByteIndex=m,this.bytes+=m-this.start,m>=64?(this.block=o[16],this.start=m-64,this.hash(),this.hashed=!0):this.start=m}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,f=this.lastByteIndex;c[16]=this.block,c[f>>>2]|=M[f&3],this.block=c[16],f>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},B.prototype.hash=function(){var c=this.h0,f=this.h1,g=this.h2,d=this.h3,b=this.h4,m,T,o,a=this.blocks;for(T=16;T<80;++T)o=a[T-3]^a[T-8]^a[T-14]^a[T-16],a[T]=o<<1|o>>>31;for(T=0;T<20;T+=5)m=f&g|~f&d,o=c<<5|c>>>27,b=o+m+b+1518500249+a[T]<<0,f=f<<30|f>>>2,m=c&f|~c&g,o=b<<5|b>>>27,d=o+m+d+1518500249+a[T+1]<<0,c=c<<30|c>>>2,m=b&c|~b&f,o=d<<5|d>>>27,g=o+m+g+1518500249+a[T+2]<<0,b=b<<30|b>>>2,m=d&b|~d&c,o=g<<5|g>>>27,f=o+m+f+1518500249+a[T+3]<<0,d=d<<30|d>>>2,m=g&d|~g&b,o=f<<5|f>>>27,c=o+m+c+1518500249+a[T+4]<<0,g=g<<30|g>>>2;for(;T<40;T+=5)m=f^g^d,o=c<<5|c>>>27,b=o+m+b+1859775393+a[T]<<0,f=f<<30|f>>>2,m=c^f^g,o=b<<5|b>>>27,d=o+m+d+1859775393+a[T+1]<<0,c=c<<30|c>>>2,m=b^c^f,o=d<<5|d>>>27,g=o+m+g+1859775393+a[T+2]<<0,b=b<<30|b>>>2,m=d^b^c,o=g<<5|g>>>27,f=o+m+f+1859775393+a[T+3]<<0,d=d<<30|d>>>2,m=g^d^b,o=f<<5|f>>>27,c=o+m+c+1859775393+a[T+4]<<0,g=g<<30|g>>>2;for(;T<60;T+=5)m=f&g|f&d|g&d,o=c<<5|c>>>27,b=o+m+b-1894007588+a[T]<<0,f=f<<30|f>>>2,m=c&f|c&g|f&g,o=b<<5|b>>>27,d=o+m+d-1894007588+a[T+1]<<0,c=c<<30|c>>>2,m=b&c|b&f|c&f,o=d<<5|d>>>27,g=o+m+g-1894007588+a[T+2]<<0,b=b<<30|b>>>2,m=d&b|d&c|b&c,o=g<<5|g>>>27,f=o+m+f-1894007588+a[T+3]<<0,d=d<<30|d>>>2,m=g&d|g&b|d&b,o=f<<5|f>>>27,c=o+m+c-1894007588+a[T+4]<<0,g=g<<30|g>>>2;for(;T<80;T+=5)m=f^g^d,o=c<<5|c>>>27,b=o+m+b-899497514+a[T]<<0,f=f<<30|f>>>2,m=c^f^g,o=b<<5|b>>>27,d=o+m+d-899497514+a[T+1]<<0,c=c<<30|c>>>2,m=b^c^f,o=d<<5|d>>>27,g=o+m+g-899497514+a[T+2]<<0,b=b<<30|b>>>2,m=d^b^c,o=g<<5|g>>>27,f=o+m+f-899497514+a[T+3]<<0,d=d<<30|d>>>2,m=g^d^b,o=f<<5|f>>>27,c=o+m+c-899497514+a[T+4]<<0,g=g<<30|g>>>2;this.h0=this.h0+c<<0,this.h1=this.h1+f<<0,this.h2=this.h2+g<<0,this.h3=this.h3+d<<0,this.h4=this.h4+b<<0},B.prototype.hex=function(){this.finalize();var c=this.h0,f=this.h1,g=this.h2,d=this.h3,b=this.h4;return y[c>>>28&15]+y[c>>>24&15]+y[c>>>20&15]+y[c>>>16&15]+y[c>>>12&15]+y[c>>>8&15]+y[c>>>4&15]+y[c&15]+y[f>>>28&15]+y[f>>>24&15]+y[f>>>20&15]+y[f>>>16&15]+y[f>>>12&15]+y[f>>>8&15]+y[f>>>4&15]+y[f&15]+y[g>>>28&15]+y[g>>>24&15]+y[g>>>20&15]+y[g>>>16&15]+y[g>>>12&15]+y[g>>>8&15]+y[g>>>4&15]+y[g&15]+y[d>>>28&15]+y[d>>>24&15]+y[d>>>20&15]+y[d>>>16&15]+y[d>>>12&15]+y[d>>>8&15]+y[d>>>4&15]+y[d&15]+y[b>>>28&15]+y[b>>>24&15]+y[b>>>20&15]+y[b>>>16&15]+y[b>>>12&15]+y[b>>>8&15]+y[b>>>4&15]+y[b&15]},B.prototype.toString=B.prototype.hex,B.prototype.digest=function(){this.finalize();var c=this.h0,f=this.h1,g=this.h2,d=this.h3,b=this.h4;return[c>>>24&255,c>>>16&255,c>>>8&255,c&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255]},B.prototype.array=B.prototype.digest,B.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(20),f=new DataView(c);return f.setUint32(0,this.h0),f.setUint32(4,this.h1),f.setUint32(8,this.h2),f.setUint32(12,this.h3),f.setUint32(16,this.h4),c};function se(c,f){var g,d=_(c);if(c=d[0],d[1]){var b=[],m=c.length,T=0,o;for(g=0;g<m;++g)o=c.charCodeAt(g),o<128?b[T++]=o:o<2048?(b[T++]=192|o>>>6,b[T++]=128|o&63):o<55296||o>=57344?(b[T++]=224|o>>>12,b[T++]=128|o>>>6&63,b[T++]=128|o&63):(o=65536+((o&1023)<<10|c.charCodeAt(++g)&1023),b[T++]=240|o>>>18,b[T++]=128|o>>>12&63,b[T++]=128|o>>>6&63,b[T++]=128|o&63);c=b}c.length>64&&(c=new B(!0).update(c).array());var a=[],h=[];for(g=0;g<64;++g){var w=c[g]||0;a[g]=92^w,h[g]=54^w}B.call(this,f),this.update(h),this.oKeyPad=a,this.inner=!0,this.sharedMemory=f}se.prototype=new B,se.prototype.finalize=function(){if(B.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();B.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(c),B.prototype.finalize.call(this)}};var ne=J();ne.sha1=ne,ne.sha1.hmac=Me(),u?r.exports=ne:s.sha1=ne})()}(jt)),jt.exports}var fo=uo();const Bi=ao(fo);function mo(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function pt(r){return function(e){if(Array.isArray(e))return $t(e)}(r)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return $t(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $t(e,t)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $t(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var Cr,zt,we,Jt,Mr,Rt=(Cr=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],zt=function(){function r(i){var s=i.targetModal,n=i.triggers,l=n===void 0?[]:n,u=i.onShow,p=u===void 0?function(){}:u,y=i.onClose,M=y===void 0?function(){}:y,P=i.openTrigger,k=P===void 0?"data-micromodal-trigger":P,F=i.closeTrigger,A=F===void 0?"data-micromodal-close":F,I=i.openClass,_=I===void 0?"is-open":I,D=i.disableScroll,J=D!==void 0&&D,re=i.disableFocus,ie=re!==void 0&&re,Me=i.awaitCloseAnimation,B=Me!==void 0&&Me,se=i.awaitOpenAnimation,ne=se!==void 0&&se,c=i.debugMode,f=c!==void 0&&c;(function(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")})(this,r),this.modal=document.getElementById(s),this.config={debugMode:f,disableScroll:J,openTrigger:k,closeTrigger:A,openClass:_,onShow:p,onClose:M,awaitCloseAnimation:B,awaitOpenAnimation:ne,disableFocus:ie},l.length>0&&this.registerTriggers.apply(this,pt(l)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,t;return e=r,(t=[{key:"registerTriggers",value:function(){for(var i=this,s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];n.filter(Boolean).forEach(function(u){u.addEventListener("click",function(p){return i.showModal(p)})})}},{key:"showModal",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function l(){i.modal.removeEventListener("animationend",l,!1),i.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,s)}},{key:"closeModal",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,i),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",function l(){s.classList.remove(n),s.removeEventListener("animationend",l,!1)},!1)}else s.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(i){this.modal=document.getElementById(i),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(i){if(this.config.disableScroll){var s=document.querySelector("body");switch(i){case"enable":Object.assign(s.style,{overflow:""});break;case"disable":Object.assign(s.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(i){(i.target.hasAttribute(this.config.closeTrigger)||i.target.parentNode.hasAttribute(this.config.closeTrigger))&&(i.preventDefault(),i.stopPropagation(),this.closeModal(i))}},{key:"onKeydown",value:function(i){i.keyCode===27&&this.closeModal(i),i.keyCode===9&&this.retainFocus(i)}},{key:"getFocusableNodes",value:function(){var i=this.modal.querySelectorAll(Cr);return Array.apply(void 0,pt(i))}},{key:"setFocusToFirstNode",value:function(){var i=this;if(!this.config.disableFocus){var s=this.getFocusableNodes();if(s.length!==0){var n=s.filter(function(l){return!l.hasAttribute(i.config.closeTrigger)});n.length>0&&n[0].focus(),n.length===0&&s[0].focus()}}}},{key:"retainFocus",value:function(i){var s=this.getFocusableNodes();if(s.length!==0)if(s=s.filter(function(l){return l.offsetParent!==null}),this.modal.contains(document.activeElement)){var n=s.indexOf(document.activeElement);i.shiftKey&&n===0&&(s[s.length-1].focus(),i.preventDefault()),!i.shiftKey&&s.length>0&&n===s.length-1&&(s[0].focus(),i.preventDefault())}else s[0].focus()}}])&&mo(e.prototype,t),r}(),we=null,Jt=function(r){if(!document.getElementById(r))return console.warn("MicroModal: âSeems like you have missed %c'".concat(r,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(r,'"></div>')),!1},Mr=function(r,e){if(function(i){i.length<=0&&(console.warn("MicroModal: âPlease specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(r),!e)return!0;for(var t in e)Jt(t);return!0},{init:function(r){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},r),t=pt(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(l,u){var p=[];return l.forEach(function(y){var M=y.attributes[u].value;p[M]===void 0&&(p[M]=[]),p[M].push(y)}),p}(t,e.openTrigger);if(e.debugMode!==!0||Mr(t,i)!==!1)for(var s in i){var n=i[s];e.targetModal=s,e.triggers=pt(n),we=new zt(e)}},show:function(r,e){var t=e||{};t.targetModal=r,t.debugMode===!0&&Jt(r)===!1||(we&&we.removeEventListeners(),(we=new zt(t)).showModal())},close:function(r){r?we.closeModalById(r):we.closeModal()}});typeof window<"u"&&(window.MicroModal=Rt);function Ni(){var r;return(r=window.external)==null?void 0:r.Tampermonkey}function Vi(){var r;return(r=window.external)==null?void 0:r.Violentmonkey}function Bt(){var r;return(r=window.external)==null?void 0:r.FireMonkey}function po(){return Ni()||Vi()||Bt()}async function go(){return Bt()||localStorage.getItem("stylusDetected")==="1"?!0:(postMessage({type:"style-version-query",name:"whatever",namespace:"whatever",url:location.href},location.origin),new Promise(r=>setTimeout(function(){r(localStorage.getItem("stylusDetected")==="1")},200)))}window.addEventListener("message",function(r){r.origin===location.origin&&r.data.type==="style-version"&&localStorage.setItem("stylusDetected","1")});function bo(r){r.preventDefault(),vo(r.target)}async function vo(r){await yo(r)&&await So(r)&&await Eo()&&await Ao(r)&&To()}async function yo(r){let e=r.getAttribute("data-install-format")==="js";if(e){if(localStorage.getItem("manualOverrideInstallJS")==="1"||po())return!0}else if(localStorage.getItem("manualOverrideInstallCSS")==="1"||await go())return!0;return wo(e)(r)}function wo(r){return async function(t){const{detect:i}=await te(async()=>{const{detect:u}=await import("./index-DOGV1NIi.js");return{detect:u}},[]);let s=i().name,n=document.getElementById(r?"installation-instructions-modal-js":"installation-instructions-modal-css");switch(s){case"firefox":case"chrome":case"opera":case"safari":case"edge":n.classList.add("installation-instructions-modal-"+s);break;default:n.classList.add("installation-instructions-modal-other")}let l=n.querySelector(".installation-instructions-modal-content-bypass a");return l.setAttribute("href",t.getAttribute("href")),new Promise(u=>{l.addEventListener("click",function(p){u(!0),localStorage.setItem(r?"manualOverrideInstallJS":"manualOverrideInstallCSS","1"),Rt.close(n.id),p.preventDefault()}),Rt.show(n.id,{onClose:p=>u(!1)})})}}async function So(r){return new Promise(e=>{if(r.getAttribute("data-is-previous-version")==="true"&&!confirm(r.getAttribute("data-previous-version-warning"))){e(!1);return}e(!0)})}async function Eo(){return new Promise(r=>{if(document.getElementById("preinstall-modal")){Rt.show("preinstall-modal",{onClose:function(e,t,i){i.target.hasAttribute("data-micromodal-accept")?r(!0):r(!1)}});return}r(!0)})}async function Ao(r){return new Promise(e=>{let t=r.getAttribute("data-ping-url");if(t)try{let i=Bi(r.getAttribute("data-ip-address")+r.getAttribute("data-script-id")+r.getAttribute("data-ping-key")),s=t+(t.includes("?")?"&":"?")+"ping_key="+encodeURIComponent(i);navigator.sendBeacon(s),gtag("event","Script install",{event_label:r.getAttribute("data-script-id"),script_id:r.getAttribute("data-script-id"),value:1})}catch(i){console.log(i)}location.href=r.href,e(!0)})}function Pr(r){let e=r.target.getAttribute("data-ping-url"),t=new Date,i=Bi("4"+t.getUTCFullYear().toString()+(t.getUTCMonth()+1).toString()+t.getUTCDate().toString()+t.getUTCHours().toString());e&&!/[&?]mo=.+$/.test(e)&&r.target.setAttribute("data-ping-url",e+(e.includes("?")?"&":"?")+"mo="+i)}function To(){setTimeout(function(){let r=document.querySelector(".post-install");r&&(r.style.display="flex")},2e3)}function Lo(){document.querySelectorAll(".install-link").forEach(function(r){r.addEventListener("click",bo),r.addEventListener("mouseover",Pr),r.addEventListener("touchstart",Pr)})}$(Lo);function Ro(r,e){return new Promise(function(t,i){let s=Ni();if(s){s.isInstalled(r,e,function(u){u.installed?t(u.version):t(null)});return}let n=Vi();if(n){n.isInstalled(r,e).then(t);return}let l=Bt();if(l){t(l.installedScriptVersion||null);return}i()})}function Co(r,e){if(r===e)return 0;let t=r.split("."),i=e.split(".");for(let s=0;s<t.length;s++){let n=Mo(t[s],i[s]);if(n!==0)return n}return i.length>t.length?-1:0}function Mo(r,e){let t=kr(r),i=kr(e);for(let s=0;s<t.length;s++){if(t[s].length>0&&i[s].length===0)return-1;if(t[s].length===0&&i[s].length>0||t[s]>i[s])return 1;if(t[s]<i[s])return-1}return 0}function kr(r){if(!r)return[0,"",0,""];let e=/([0-9]*)([^0-9]*)([0-9]*)([^0-9]*)/.exec(r);return[e[1]?parseInt(e[1]):0,e[2],e[3]?parseInt(e[3]):0,e[4]]}function Wi(r,e,t){if(e==null)return;r.removeAttribute("data-ping-url");let i;switch(Co(e,t)){case-1:i=r.getAttribute("data-update-label");break;case 1:i=r.getAttribute("data-downgrade-label");break;case 0:i=r.getAttribute("data-reinstall-label");break}r.textContent=i;let s=document.querySelector("#preinstall-modal [data-micromodal-accept]");s&&(s.textContent=i)}function Ui(r,e){let t=r.getAttribute("data-script-name"),i=r.getAttribute("data-script-namespace"),s=r.getAttribute("data-script-version");Ro(t,i).then(function(n){Wi(r,n,s)},function(){e&&setTimeout(function(){Ui(r,!1)},1e3)}).catch(function(n){})}function Po(r){let e=Bt();if(e!=null&&e.installedStyleVersion){ji(e.installedStyleVersion);return}let t=r.getAttribute("data-script-name"),i=r.getAttribute("data-script-namespace");postMessage({type:"style-version-query",name:t,namespace:i,url:location.href},location.origin)}window.addEventListener("message",function(r){r.origin!=="https://greasyfork.org"&&r.origin!=="https://sleazyfork.org"||r.data.type==="style-version"&&ji(r.data.version)},!1);function ji(r){let e=document.querySelector(".install-link[data-install-format=css]");if(e==null)return;let t=e.getAttribute("data-script-version");Wi(e,r,t)}$(function(){let r=document.querySelector(".install-link[data-install-format=js]");r&&Ui(r,!0);let e=document.querySelector(".install-link[data-install-format=css]");e&&Po(e)});window.submitInvisibleRecaptchaForm=function(r){document.getElementById("new_user").submit()};window.submitInvisibleRecaptchaFormScriptVersion=function(r){document.getElementById("new_script_version").submit()};window.submitInvisibleRecaptchaFormScriptSet=function(r){document.getElementById("save-indicator").value="1",document.getElementById("new_script_set").submit()};window.submitInvisibleRecaptchaDiscussionForm=function(r){document.getElementById("new-discussion").submit()};window.submitInvisibleRecaptchaScriptDiscussionForm=function(r){document.getElementById("new-script-discussion").submit()};function ko(){let r=document.getElementById("add-additional-info");r&&r.addEventListener("click",function(e){let t=document.querySelectorAll("textarea[name*='additional_info']"),i=t[t.length-1].id.split("-"),s=parseInt(i[i.length-1],10)+1,n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.open("get",$i(r,s)),n.onload=function(){let l=document.createElement("div");l.innerHTML=this.responseText;let u=l.firstElementChild;r.parentNode.parentNode.insertBefore(u,r.parentNode),markupPreview(u.querySelector(".previewable"))},n.send(),e.preventDefault()})}function Fo(){let r=document.getElementById("add-synced-additional-info");r&&r.addEventListener("click",function(e){let t=document.querySelectorAll("input[type='url'][name*='additional_info_sync']"),i=t[t.length-1].id.split("-"),s=parseInt(i[i.length-1],10)+1,n=new XMLHttpRequest;n.overrideMimeType("text/html"),n.open("get",$i(r,s)),n.onload=function(){let l=document.createElement("div");l.innerHTML=this.responseText,r.parentNode.parentNode.insertBefore(l.children[0],r.parentNode)},n.send(),e.preventDefault()})}const $i=function(r,e){return`${r.dataset.formPath}${r.dataset.formPath.includes("?")?"&":"?"}index=${e}`};$(ko);$(Fo);window.markupPreview=function(r){function e(A){for(;A&&A.className.indexOf("previewable")===-1;)A=A.parentNode;return A}function t(A){return A.querySelector("textarea")}function i(A){return A.querySelector(".preview-results")}function s(A){return A.querySelector(".preview-tab").parentNode.className.indexOf("current")>-1}function n(A){let I=e(A.target);s(I)||(l(I),A.preventDefault())}function l(A){let I=A.closest("form").querySelector('input[name="'+A.getAttribute("data-markup-option-name")+'"]:checked').value,_=A.getAttribute("data-preview-source")==="url",D=new XMLHttpRequest;D.onload=function(){u(A,D.responseText)},D.onerror=function(){u(A,D.status)},D.open("POST","/preview-markup");let J=new FormData;J.append("text",t(A).value),J.append("markup",I),J.append("url",String(_)),J.append(document.querySelector("meta[name='csrf-param']").getAttribute("content"),document.querySelector("meta[name='csrf-token']").getAttribute("content")),D.send(J)}function u(A,I){let _=t(A),D=i(A);D.innerHTML=I,D.style.display="block",_.style.display="block",D.style.height="auto",D.style.height=Math.max(_.clientHeight+p(_),D.scrollHeight+p(D))+"px",_.style.display!=="none"&&(_.style.display="none",P(A,!0))}function p(A){let I=getComputedStyle(A);return parseInt(I.borderTopWidth)+parseInt(I.borderBottomWidth)}function y(A){let I=e(A.target),_=t(I),D=i(I);D.style.display="none",_.style.display="block",P(I,!1)}function M(A){s(A)&&l(A)}function P(A,I){A.querySelector(I?".preview-tab":".write-tab").parentNode.classList.add("current"),A.querySelector(I?".write-tab":".preview-tab").parentNode.classList.remove("current")}let k=document.createElement("div");k.className="tabs",k.innerHTML="<span class='current'><a class='write-tab'><span>"+r.getAttribute("data-write-label")+"</span></a></span> <span><a class='preview-tab'><span>"+r.getAttribute("data-preview-label")+"</span></a></span>",r.insertBefore(k,r.firstChild);let F=document.createElement("div");F.className="preview-results user-content",F.style.display="none",r.appendChild(F),r.querySelector(".preview-tab").addEventListener("click",n),r.querySelector(".write-tab").addEventListener("click",y),Array.prototype.forEach.call(document.querySelectorAll('input[name="'+r.getAttribute("data-markup-option-name")+'"]'),function(A){A.addEventListener("change",function(){M(r)})})};$(()=>Array.prototype.forEach.call(document.querySelectorAll(".previewable"),markupPreview));$(function(){function r(e){for(;e&&e.tagName.toLowerCase()!="form";)e=e.parentNode;return e}Array.prototype.forEach.call(document.querySelectorAll("[data-submit-anchor]"),function(e){e.addEventListener("click",function(t){var i=r(t.target);i!=null&&i.setAttribute("action",i.getAttribute("action").split("#")[0]+"#"+t.target.getAttribute("data-submit-anchor"))})})});function Io(r){let e=parseInt(getComputedStyle(r).height),s=18*4;if(e<=s)return;r.parentNode.style.position="relative",r.style.height=s+"px";let n=getComputedStyle(document.documentElement).direction=="rtl",l=document.documentElement.clientWidth<=600;function u(){if(r.classList.contains("expanded"))l?r.style.height=s+"px":(r.style.marginInlineEnd="",p.style.marginInlineEnd=""),p.removeChild(p.firstChild),p.appendChild(document.createTextNode("+")),r.classList.remove("expanded"),r.classList.add("collapsed");else{if(l)r.style.height="auto";else{let y=document.querySelector(".width-constraint"),M=n?y.getBoundingClientRect().left-r.getBoundingClientRect().left+40:y.getBoundingClientRect().right-r.getBoundingClientRect().right-40;r.style.marginInlineEnd="-"+M+"px",p.style.marginInlineEnd="-"+M+"px"}p.removeChild(p.firstChild),p.appendChild(document.createTextNode("-")),r.classList.add("expanded"),r.classList.remove("collapsed")}}let p=document.createElement("span");p.className="expander",p.appendChild(document.createTextNode("+")),p.addEventListener("click",u),r.insertAdjacentElement("afterend",p),r.classList.add("expanded"),u()}$(()=>{document.querySelectorAll(".expandable").forEach(Io)});$(function(){document.querySelector(".close-sidebar")&&document.querySelector(".close-sidebar").addEventListener("click",function(){document.querySelector(".sidebar").classList.add("collapsed"),document.querySelector(".open-sidebar").classList.add("sidebar-collapsed")}),document.querySelector(".open-sidebar")&&document.querySelector(".open-sidebar").addEventListener("click",function(){document.querySelector(".sidebar").classList.remove("collapsed"),document.querySelector(".open-sidebar").classList.remove("sidebar-collapsed")})});function qo(){var r=document.getElementById("announcement-dismiss");r&&r.addEventListener("ajax:success",function(){var e=r.parentNode;e.parentNode.removeChild(e)})}$(qo);function xo(r){r.preventDefault();let e=r.target.closest(".comment"),t=document.getElementById("post-reply"),i=t.querySelector("[name='comment[text_markup]']:checked, [name='message[content_markup]']:checked").value=="html",s=_o(e,i),n=t.querySelector("#comment_text, #message_content"),l=n.value!=""&&!n.value.endsWith(`
`);n.value+=(l?`

`:"")+zi(s,i)+`

`,n.focus()}function zi(r,e){return e?"<blockquote>"+r+"</blockquote>":r.split(`
`).map(t=>"> "+t+"  ").join(`
`)}function _o(r,e){let t=r.querySelector(".user-content"),i=window.getSelection(),s=null,n;if(i.type=="Range"&&(s=i.anchorNode,s&&s.nodeType!=Node.ELEMENT_NODE&&(s=s.parentElement),n=i.focusNode,n&&n.nodeType!=Node.ELEMENT_NODE&&(n=n.parentElement),s.closest(".user-content")==t&&n.closest(".user-content")==t))return i.toString().trim();if(e)return t.innerHTML.trim();let l=t.cloneNode(!0);for(let u of Array.from(l.querySelectorAll("blockquote")).reverse())u.parentNode.insertBefore(document.createTextNode(zi(u.innerText,e)),u),u.parentNode.removeChild(u);return l.innerText.trim()}function Do(){for(let e of document.querySelectorAll(".edit-comment"))e.addEventListener("click",function(t){t.preventDefault(),document.getElementById(e.getAttribute("data-comment-container")).classList.add("edit-comment-mode")});for(let e of document.querySelectorAll(".cancel-edit-comment"))e.addEventListener("click",function(t){t.preventDefault(),document.getElementById(e.getAttribute("data-comment-container")).classList.remove("edit-comment-mode")});for(let e of document.querySelectorAll(".quote-comment"))e.addEventListener("click",xo);let r=document.getElementById("discussion-locale");r&&r.addEventListener("change",function(){this.selectedOptions[0]&&this.selectedOptions[0].hasAttribute("data-url")&&(location.href=this.selectedOptions[0].getAttribute("data-url"))})}$(Do);function Ji(){if(typeof window.ethicalads>"u"){setTimeout(Ji,100);return}window.ethicalads.wait.then(r=>{var e,t;typeof gtag<"u"&&gtag("event","EthicalAds placement",{ea_campaign_type:((t=(e=r[0])==null?void 0:e.response)==null?void 0:t.campaign_type)||"(none)"}),r.length==0&&Yi()})}const Yi=function(){let r=document.querySelector(".ea-fallback");if(!r)return;r.classList.remove("ea-fallback");let e=document.createElement(r.getAttribute("data-element-name"));r.removeAttribute("data-element-name"),Array.from(r.attributes).forEach(s=>e.setAttributeNode(s.cloneNode(!0)));let t=r.parentNode;if(r.dataset.parentId){let s=document.createElement("div");s.id=r.dataset.parentId,s.appendChild(e),e=s}t.insertBefore(e,r),t.removeChild(r),t.style.display="block";let i=document.querySelector(".ethical-ads");i.parentNode.removeChild(i)};window.switchToEaFallback=Yi;$(Ji);let Oo=function(r){let e=r.target.selectedOptions[0];e.value=="help"?location.href=r.target.getAttribute("data-translate-url"):location.href=e.getAttribute("data-language-url")};$(()=>{document.querySelectorAll(".language-selector-locale").forEach(r=>{r.addEventListener("change",Oo)})});function Ho(r){r.style.transition="background-color 3s",r.classList.add("highlight"),setTimeout(()=>r.classList.remove("highlight"),3e3)}function Bo(r){let e=this.closest("form").querySelector("input[type=file][name*=attachments]");if(!e)return;let t=e.getAttribute("accept").split(","),i=Array.from(r.clipboardData.files).filter(n=>t.includes(n.type));if(i.length==0)return;let s=new DataTransfer;for(let n of e.files)s.items.add(n);for(let n of i)s.items.add(n);e.files=s.files,Ho(e)}function No(){for(let r of document.querySelectorAll(".previewable textarea"))r.addEventListener("paste",Bo)}$(No);$(()=>{document.querySelectorAll(".lazy-load-diff").forEach(e=>{e.addEventListener("click",t=>{e.disabled=!0,e.dataset.originalText=e.textContent,e.textContent=e.dataset.disableWith,fetch(e.dataset.url).then(i=>Vo(e,i))})})});async function Vo(r,e){let t=r.closest(".report-diff"),i=await e.text(),s=new DOMParser().parseFromString(i,"text/html");t.replaceChild(s.body.firstElementChild,t.firstChild),r.textContent=r.dataset.originalText,r.disabled=!1}async function Wo(){if(!document.querySelector(".browser-list"))return;const{detect:r}=await te(async()=>{const{detect:t}=await import("./index-DOGV1NIi.js");return{detect:t}},[]);let e;switch(r().os){case"Android OS":e="android-browser-list";break;case"iOS":e="ios-browser-list";break;default:e="desktop-browser-list"}Fr(e),document.querySelectorAll("[data-for]").forEach(t=>t.addEventListener("click",()=>{Fr(t.getAttribute("data-for"))}))}function Fr(r){document.querySelectorAll(".browser-list").forEach(t=>t.style.display="none"),document.getElementById(r).style.display="block",document.querySelectorAll(".browser-list-selector-active").forEach(t=>t.classList.remove("browser-list-selector-active")),document.querySelector("[data-for='"+r+"']").classList.add("browser-list-selector-active")}$(Wo);let ue=null;$(async()=>{let r=document.querySelector("input.enable-source-editor");if(!r)return;r.addEventListener("change",Ir);let e=Uo(r);e.addEventListener("submit",qr);let t=e.querySelector(".g-recaptcha");t&&t.addEventListener("click",qr),r.parentNode.style.display="inline",Ir({target:r})});function Uo(r){for(;r&&r.tagName.toLowerCase()!=="form";)r=r.parentNode;return r}async function Ir(r){let e=r.target.getAttribute("data-related-editor"),t=document.getElementById(e),i=r.target.getAttribute("data-editor-language");if(r.target.checked){let s=await te(()=>import("./ace-I8s0c7ys.js").then(l=>l.a),[]);t.style.display="none";let n=document.createElement("div");if(n.id="ace-editor",n.appendChild(document.createTextNode(t.value)),n.style.height=getComputedStyle(t).height,t.parentNode.insertBefore(n,t.nextSibling),ue=s.edit("ace-editor"),ue.session.on("changeMode",function(l,u){u.getMode().$id==="ace/mode/javascript"&&u.$worker&&u.$worker.send("setOptions",[{esversion:6,"-W064":!1}])}),i==="css"){await te(()=>import("./mode-css-DDOb0oVL.js").then(u=>u.m),[]);let l=await te(()=>import("./worker-css-QEbt_6L4.js"),[]);s.config.setModuleUrl("ace/mode/css_worker",l.default),ue.getSession().setMode("ace/mode/css")}else{await te(()=>import("./mode-javascript-BB-oksPj.js").then(u=>u.m),[]);let l=await te(()=>import("./worker-javascript-D-cyqNM6.js"),[]);s.config.setModuleUrl("ace/mode/javascript_worker",l.default),ue.getSession().setMode("ace/mode/javascript")}}else{let s=document.getElementById("ace-editor");s&&(t.value=ue.getSession().getValue(),t.style.display="block",t.style.height=getComputedStyle(s).height,s.parentNode.removeChild(s),ue.destroy(),ue=null)}}function qr(){if(document.getElementById("ace-editor")){let e=document.querySelector("input.enable-source-editor").getAttribute("data-related-editor"),t=document.getElementById(e);t.value=ue.getSession().getValue()}}window.initializeChart=async function(r,e){let t={labels:Object.keys(r),datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",data:Object.values(r)}]},i=document.getElementById(e),s=document.createElement("canvas");s.id=e+"-canvas",s.width=parseInt(getComputedStyle(i).width.replace("px",""),10)-5,s.height=400,i.appendChild(s);let n=s.getContext("2d");const{Chart:l,CategoryScale:u,LinearScale:p,BarController:y,BarElement:M,Tooltip:P}=await te(async()=>{const{Chart:k,CategoryScale:F,LinearScale:A,BarController:I,BarElement:_,Tooltip:D}=await import("./chart-CsOABHQf.js");return{Chart:k,CategoryScale:F,LinearScale:A,BarController:I,BarElement:_,Tooltip:D}},[]);l.register([u,p,y,M,P]),new l(n,{type:"bar",data:t,options:{scaleStartValue:0,legend:{display:!1},scales:{x:{grid:{display:!1}},y:{suggestedMax:10,beginAtZero:!0}},plugins:{tooltip:{enabled:!0}}}})};$(()=>{let r=document.querySelector('.external-login-form [name="authenticity_token"]');r&&(r.value=document.querySelector('meta[name="csrf-token"]').getAttribute("content"))});let jo=()=>{document.querySelector("#mobile-nav nav").classList.toggle("collapsed")};$(()=>{var r;return(r=document.querySelector(".mobile-nav-opener"))==null?void 0:r.addEventListener("click",jo)});Turbo.session.drive=!1;export{ao as g};
//# sourceMappingURL=application-gGlzlpFz.js.map